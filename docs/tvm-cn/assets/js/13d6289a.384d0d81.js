"use strict";(self.webpackChunktvm_cn=self.webpackChunktvm_cn||[]).push([["95723"],{81546:function(n,e,i){i.r(e),i.d(e,{default:()=>N,frontMatter:()=>c,metadata:()=>t,assets:()=>r,toc:()=>d,contentTitle:()=>l});var t=JSON.parse('{"id":"install/nnpack","title":"NNPACK Contrib \u5B89\u88C5","description":"NNPACK \u662F\u7528\u4E8E\u795E\u7ECF\u7F51\u7EDC\u8BA1\u7B97\u7684\u52A0\u901F\u5305\uFF0C\u53EF\u4EE5\u5728 x86-64\u3001ARMv7 \u6216 ARM64 \u67B6\u6784\u7684 CPU \u4E0A\u8FD0\u884C\u3002\u4F7F\u7528 NNPACK\uFF0C\u50CF MXNet \u8FD9\u6837\u7684\u9AD8\u7EA7\u5E93\u53EF\u4EE5\u52A0\u5FEB\u591A\u6838 CPU \u8BA1\u7B97\u673A\uFF08\u5305\u62EC\u7B14\u8BB0\u672C\u7535\u8111\u548C\u79FB\u52A8\u8BBE\u5907\uFF09\u4E0A\u7684\u6267\u884C\u901F\u5EA6\u3002","source":"@site/versioned_docs/version-0.10.0/install/nnpack.md","sourceDirName":"install","slug":"/install/nnpack","permalink":"/docs/tvm-cn/docs/0.10.0/install/nnpack","draft":false,"unlisted":false,"editUrl":"https://github.com/hyperai/tvm-cn/edit/master/versioned_docs/version-0.10.0/install/nnpack.md","tags":[],"version":"0.10.0","lastUpdatedBy":"sparanoid","lastUpdatedAt":1744717810000,"sidebarPosition":3,"frontMatter":{"title":"NNPACK Contrib \u5B89\u88C5","sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Docker \u955C\u50CF","permalink":"/docs/tvm-cn/docs/0.10.0/install/docker"},"next":{"title":"\u8D21\u732E\u6307\u5357","permalink":"/docs/tvm-cn/docs/0.10.0/contribute"}}'),s=i("74132"),a=i("21494");let c={title:"NNPACK Contrib \u5B89\u88C5",sidebar_position:3},l="NNPACK Contrib \u5B89\u88C5",r={},d=[{value:"\u6761\u4EF6",id:"\u6761\u4EF6",level:2},{value:"\u6784\u5EFA/\u5B89\u88C5 NNPACK",id:"\u6784\u5EFA\u5B89\u88C5-nnpack",level:2},{value:"\u6784\u5EFA Ninja",id:"\u6784\u5EFA-ninja",level:3},{value:"\u6784\u5EFA NNPACK",id:"\u6784\u5EFA-nnpack",level:3},{value:"\u6784\u5EFA\u652F\u6301 NNPACK \u7684 TVM",id:"\u6784\u5EFA\u652F\u6301-nnpack-\u7684-tvm",level:2}];function o(n){let e={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.a)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"nnpack-contrib-\u5B89\u88C5",children:"NNPACK Contrib \u5B89\u88C5"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.a,{href:"https://github.com/Maratyszcza/NNPACK",children:"NNPACK"})," \u662F\u7528\u4E8E\u795E\u7ECF\u7F51\u7EDC\u8BA1\u7B97\u7684\u52A0\u901F\u5305\uFF0C\u53EF\u4EE5\u5728 x86-64\u3001ARMv7 \u6216 ARM64 \u67B6\u6784\u7684 CPU \u4E0A\u8FD0\u884C\u3002\u4F7F\u7528 NNPACK\uFF0C\u50CF MXNet \u8FD9\u6837\u7684\u9AD8\u7EA7\u5E93\u53EF\u4EE5\u52A0\u5FEB\u591A\u6838 CPU \u8BA1\u7B97\u673A\uFF08\u5305\u62EC\u7B14\u8BB0\u672C\u7535\u8111\u548C\u79FB\u52A8\u8BBE\u5907\uFF09\u4E0A\u7684\u6267\u884C\u901F\u5EA6\u3002"]}),"\n",(0,s.jsx)(e.admonition,{type:"note",children:(0,s.jsx)(e.p,{children:"\u7531\u4E8E TVM \u5DF2\u7ECF\u6709\u539F\u751F\u8C03\u6574\u7684\u8C03\u5EA6\uFF0C\u8FD9\u91CC\u7684 NNPACK \u4E3B\u8981\u662F\u4E3A\u4E86\u53C2\u8003\u548C\u6BD4\u8F83\u3002\u5BF9\u4E8E\u5E38\u89C4\u4F7F\u7528\uFF0C\u539F\u751F\u8C03\u6574\u7684 TVM \u5B9E\u73B0\u66F4\u4F73\u3002"})}),"\n",(0,s.jsx)(e.p,{children:"TVM \u652F\u6301 NNPACK \u5728\u5377\u79EF\u3001\u6700\u5927\u6C60\u548C\u5168\u8FDE\u63A5\u5C42\u4E2D\u8FDB\u884C\u524D\u5411\u4F20\u64AD\uFF08\u4EC5\u9650\u63A8\u7406\uFF09\u3002\u5728\u672C\u6587\u6863\u4E2D\uFF0C\u6211\u4EEC\u5BF9\u5982\u4F55\u5C06 NNPACK \u4E0E TVM \u4E00\u8D77\u4F7F\u7528\u8FDB\u884C\u4E86\u9AD8\u7EA7\u6982\u8FF0\u3002"}),"\n",(0,s.jsx)(e.h2,{id:"\u6761\u4EF6",children:"\u6761\u4EF6"}),"\n",(0,s.jsx)(e.p,{children:"NNPACK \u7684\u5E95\u5C42\u5B9E\u73B0\u4F7F\u7528\u4E86\u591A\u79CD\u52A0\u901F\u65B9\u6CD5\uFF0C\u5305\u62EC fft \u548C winograd\u3002\u8FD9\u4E9B\u7B97\u6CD5\u5728\u67D0\u4E9B\u7279\u6B8A\u7684\u6279\u5904\u7406\u5927\u5C0F\u3001\u5185\u6838\u5927\u5C0F\u548C\u6B65\u5E45\u8BBE\u7F6E\u4E0A\u6BD4\u5176\u4ED6\u7B97\u6CD5\u6548\u679C\u66F4\u597D\uFF0C\u56E0\u6B64\u6839\u636E\u4E0A\u4E0B\u6587\uFF0C\u5E76\u975E\u6240\u6709\u5377\u79EF\u3001\u6700\u5927\u6C60\u6216\u5168\u8FDE\u63A5\u5C42\u90FD\u53EF\u4EE5\u7531 NNPACK \u63D0\u4F9B\u652F\u6301\u3002NNPACK \u4EC5\u652F\u6301 Linux \u548C OS X \u7CFB\u7EDF\uFF0C\u76EE\u524D\u4E0D\u652F\u6301 Windows\u3002"}),"\n",(0,s.jsx)(e.h2,{id:"\u6784\u5EFA\u5B89\u88C5-nnpack",children:"\u6784\u5EFA/\u5B89\u88C5 NNPACK"}),"\n",(0,s.jsx)(e.p,{children:"\u5982\u679C\u8BAD\u7EC3\u540E\u7684\u6A21\u578B\u6EE1\u8DB3\u4F7F\u7528 NNPACK \u7684\u4E00\u4E9B\u6761\u4EF6\uFF0C\u5219\u53EF\u4EE5\u6784\u5EFA\u652F\u6301 NNPACK \u7684 TVM\u3002\u8BF7\u6309\u7167\u4EE5\u4E0B\u7B80\u5355\u6B65\u9AA4\u64CD\u4F5C\uFF1A"}),"\n",(0,s.jsx)(e.p,{children:"\u4F7F\u7528\u4EE5\u4E0B\u547D\u4EE4\u6784\u5EFA NNPACK \u5171\u4EAB\u5E93\u3002 TVM \u4F1A\u52A8\u6001\u94FE\u63A5 NNPACK\u3002"}),"\n",(0,s.jsx)(e.p,{children:"\u6CE8\u610F\uFF1A\u4EE5\u4E0B NNPACK \u5B89\u88C5\u6307\u5BFC\u5DF2\u7ECF\u5728 Ubuntu 16.04 \u4E0A\u8FDB\u884C\u4E86\u6D4B\u8BD5\u3002"}),"\n",(0,s.jsx)(e.h3,{id:"\u6784\u5EFA-ninja",children:"\u6784\u5EFA Ninja"}),"\n",(0,s.jsx)(e.p,{children:"NNPACK \u9700\u8981\u6700\u65B0\u7248\u672C\u7684 Ninja\u3002\u6240\u4EE5\u6211\u4EEC\u9700\u8981\u4ECE\u6E90\u4EE3\u7801\u5B89\u88C5 ninja\u3002"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"git clone git://github.com/ninja-build/ninja.git\ncd ninja\n./configure.py --bootstrap\n"})}),"\n",(0,s.jsx)(e.p,{children:"\u8BBE\u7F6E\u73AF\u5883\u53D8\u91CF PATH \u4EE5\u544A\u8BC9 bash \u5728\u54EA\u91CC\u53EF\u4EE5\u627E\u5230 ninja \u53EF\u6267\u884C\u6587\u4EF6\u3002\u4F8B\u5982\uFF0C\u5047\u8BBE\u6211\u4EEC\u5728\u4E3B\u76EE\u5F55 ~ \u4E0A\u514B\u9686\u4E86 ninja\u3002\u7136\u540E\u6211\u4EEC\u53EF\u4EE5\u5728 ~/.bashrc \u4E2D\u6DFB\u52A0\u4EE5\u4E0B\u884C\u3002"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'export PATH="${PATH}:~/ninja"\n'})}),"\n",(0,s.jsx)(e.h3,{id:"\u6784\u5EFA-nnpack",children:"\u6784\u5EFA NNPACK"}),"\n",(0,s.jsxs)(e.p,{children:["CMAKE \u65B0\u7248 NNPACK \u5355\u72EC\u4E0B\u8F7D ",(0,s.jsx)(e.a,{href:"https://github.com/Maratyszcza/PeachPy",children:"Peach"})," \u7B49\u4F9D\u8D56"]}),"\n",(0,s.jsx)(e.p,{children:"\u6CE8\u610F\uFF1A\u81F3\u5C11\u5728 OS X \u4E0A\uFF0C\u8FD0\u884C\u4E0B\u9762\u7684 ninja install \u4F1A\u8986\u76D6\u5B89\u88C5\u5728 /usr/local/lib \u4E2D\u7684 googletest \u5E93\u3002\u5982\u679C\u60A8\u518D\u6B21\u6784\u5EFA googletest \u4EE5\u66FF\u6362 nnpack \u526F\u672C\uFF0C\u8BF7\u52A1\u5FC5\u5C06 -DBUILD_SHARED_LIBS=ON \u4F20\u7ED9 cmake\u3002"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'git clone --recursive https://github.com/Maratyszcza/NNPACK.git\ncd NNPACK\n\n# \u5728 CFLAG \u548C CXXFLAG \u4E2D\u6DFB\u52A0 PIC \u9009\u9879\u4EE5\u6784\u5EFA NNPACK \u5171\u4EAB\u5E93\nsed -i "s|gnu99|gnu99 -fPIC|g" CMakeLists.txt\nsed -i "s|gnu++11|gnu++11 -fPIC|g" CMakeLists.txt\nmkdir build\ncd build\n\n# \u751F\u6210 ninja \u6784\u5EFA\u89C4\u5219\u5E76\u5728\u914D\u7F6E\u4E2D\u6DFB\u52A0\u5171\u4EAB\u5E93\ncmake -G Ninja -D BUILD_SHARED_LIBS=ON ..\nninja\nsudo ninja install\n\n# \u5728\u4F60\u7684 ldconfig \u4E2D\u6DFB\u52A0 NNPACK \u7684 lib \u6587\u4EF6\u5939\necho "/usr/local/lib" > /etc/ld.so.conf.d/nnpack.conf\nsudo ldconfig\n'})}),"\n",(0,s.jsx)(e.h2,{id:"\u6784\u5EFA\u652F\u6301-nnpack-\u7684-tvm",children:"\u6784\u5EFA\u652F\u6301 NNPACK \u7684 TVM"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"git clone --recursive https://github.com/apache/tvm tvm\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u5728 config.cmake \u4E2D\u8BBE\u7F6E ",(0,s.jsx)(e.em,{children:"set(USE_NNPACK ON)"}),"\u3002"]}),"\n",(0,s.jsxs)(e.li,{children:["\u5C06 ",(0,s.jsx)(e.em,{children:"NNPACK_PATH"})," \u8BBE\u7F6E\u4E3A $(YOUR_NNPACK_INSTALL_PATH)\n\u914D\u7F6E\u540E\u4F7F\u7528 make \u6784\u5EFA TVM"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"make\n"})})]})}function N(n={}){let{wrapper:e}={...(0,a.a)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(o,{...n})}):o(n)}},21494:function(n,e,i){i.d(e,{Z:function(){return l},a:function(){return c}});var t=i(39546);let s={},a=t.createContext(s);function c(n){let e=t.useContext(a);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:c(n.components),t.createElement(a.Provider,{value:e},n.children)}}}]);