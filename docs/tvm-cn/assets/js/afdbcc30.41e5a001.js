"use strict";(self.webpackChunktvm_cn=self.webpackChunktvm_cn||[]).push([["38613"],{22863:function(n,e,t){t.r(e),t.d(e,{default:()=>m,frontMatter:()=>s,metadata:()=>i,assets:()=>c,toc:()=>a,contentTitle:()=>o});var i=JSON.parse('{"id":"how_to/microtvm/micro_custom_ide","title":"9. \u5F00\u53D1\u73AF\u5883\u4E2D\u52A0\u5165 microTVM","description":"\u5355\u51FB \u6B64\u5904 \u4E0B\u8F7D\u5B8C\u6574\u7684\u793A\u4F8B\u4EE3\u7801","source":"@site/docs/how_to/microtvm/10-micro_custom_ide.md","sourceDirName":"how_to/microtvm","slug":"/how_to/microtvm/micro_custom_ide","permalink":"/docs/tvm-cn/docs/how_to/microtvm/micro_custom_ide","draft":false,"unlisted":false,"editUrl":"https://github.com/hyperai/tvm-cn/edit/master/docs/how_to/microtvm/10-micro_custom_ide.md","tags":[],"version":"current","lastUpdatedBy":"sparanoid","lastUpdatedAt":1744717810000,"sidebarPosition":10,"frontMatter":{"title":"9. \u5F00\u53D1\u73AF\u5883\u4E2D\u52A0\u5165 microTVM"},"sidebar":"tutorialSidebar","previous":{"title":"8. \u521B\u5EFA\u4F7F\u7528 microTVM \u7684 MLPerfTiny \u63D0\u4EA4","permalink":"/docs/tvm-cn/docs/how_to/microtvm/micro_mlperftiny"},"next":{"title":"\u6269\u5C55 TVM","permalink":"/docs/tvm-cn/docs/how_to/extend/"}}'),r=t("74132"),l=t("21494");let s={title:"9. \u5F00\u53D1\u73AF\u5883\u4E2D\u52A0\u5165 microTVM"},o="9. \u5F00\u53D1\u73AF\u5883\u4E2D\u52A0\u5165 microTVM",c={},a=[{value:"\u5C06\u6837\u672C\u56FE\u50CF\u6DFB\u52A0\u5230 MLF \u6587\u4EF6\u4E2D",id:"\u5C06\u6837\u672C\u56FE\u50CF\u6DFB\u52A0\u5230-mlf-\u6587\u4EF6\u4E2D",level:2},{value:"\u751F\u6210\u5728\u60A8\u7684 IDE \u4E2D\u7684\u9879\u76EE",id:"\u751F\u6210\u5728\u60A8\u7684-ide-\u4E2D\u7684\u9879\u76EE",level:2},{value:"\u5C06\u6A21\u578B\u5BFC\u5165\u751F\u6210\u7684\u9879\u76EE",id:"\u5C06\u6A21\u578B\u5BFC\u5165\u751F\u6210\u7684\u9879\u76EE",level:2},{value:"\u8BC4\u4F30\u6A21\u578B",id:"\u8BC4\u4F30\u6A21\u578B",level:2}];function d(n){let e={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,l.a)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.admonition,{type:"note",children:(0,r.jsxs)(e.p,{children:["\u5355\u51FB ",(0,r.jsx)(e.a,{href:"https://tvm.apache.org/docs/v0.13.0/how_to/work_with_microtvm/micro_custom_ide.html#sphx-glr-download-how-to-work-with-microtvm-micro-custom-ide-py",children:"\u6B64\u5904"})," \u4E0B\u8F7D\u5B8C\u6574\u7684\u793A\u4F8B\u4EE3\u7801"]})}),"\n",(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"9-\u5F00\u53D1\u73AF\u5883\u4E2D\u52A0\u5165-microtvm",children:"9. \u5F00\u53D1\u73AF\u5883\u4E2D\u52A0\u5165 microTVM"})}),"\n",(0,r.jsxs)(e.p,{children:["\u4F5C\u8005\uFF1A",(0,r.jsx)(e.a,{href:"https://github.com/mkatanbaf",children:"Mohamad Katanbaf"})]}),"\n",(0,r.jsxs)(e.p,{children:["\u672C\u6559\u7A0B\u63CF\u8FF0\u4E86\u5C06\u4F7F\u7528 microTVM \u7F16\u8BD1\u7684\u6A21\u578B\u96C6\u6210\u5230\u81EA\u5B9A\u4E49\u5F00\u53D1\u73AF\u5883\u6240\u9700\u7684\u6B65\u9AA4\u3002\u5728\u672C\u6559\u7A0B\u4E2D\uFF0C\u6211\u4EEC\u4F7F\u7528 ",(0,r.jsx)(e.a,{href:"https://www.st.com/en/development-tools/stm32cubeide.html",children:"STM32CubeIDE"})," \u4F5C\u4E3A\u76EE\u6807\u96C6\u6210\u5F00\u53D1\u73AF\u5883\uFF08IDE\uFF09\uFF0C\u4F46\u6211\u4EEC\u4E0D\u4F9D\u8D56\u4E8E\u6B64 IDE \u7684\u4EFB\u4F55\u7279\u5B9A\u529F\u80FD\uFF0C\u5C06 microTVM \u96C6\u6210\u5230\u5176\u4ED6 IDE \u4E2D\u7684\u6B65\u9AA4\u7C7B\u4F3C\u3002\u5728\u8FD9\u91CC\uFF0C\u6211\u4EEC\u8FD8\u4F7F\u7528\u4E86 MLPerf Tiny \u7684 Visual Wake Word\uFF08VWW\uFF09\u6A21\u578B\u548C nucleo_l4r5zi \u5F00\u53D1\u677F\uFF0C\u4F46\u76F8\u540C\u7684\u6B65\u9AA4\u4E5F\u9002\u7528\u4E8E\u4EFB\u4F55\u5176\u4ED6\u6A21\u578B\u6216\u76EE\u6807\u5FAE\u63A7\u5236\u5668\u5355\u5143\uFF08MCU\uFF09\u3002\u5982\u679C\u60A8\u5E0C\u671B\u5728 vww \u6A21\u578B\u4E0A\u4F7F\u7528\u53E6\u4E00\u4E2A\u76EE\u6807 MCU\uFF0C\u6211\u4EEC\u5EFA\u8BAE\u9009\u62E9\u5177\u6709\u7EA6 512 KB \u548C\u7EA6 256 KB \u95EA\u5B58\u548C RAM \u7684 Cortex-M4 \u6216 Cortex-M7 \u8BBE\u5907\u3002"]}),"\n",(0,r.jsx)(e.p,{children:"\u4EE5\u4E0B\u662F\u672C\u6559\u7A0B\u4E2D\u8981\u6267\u884C\u7684\u6B65\u9AA4\u7684\u7B80\u8981\u6982\u8FF0\u3002"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["\u9996\u5148\uFF0C\u6211\u4EEC\u5BFC\u5165\u6A21\u578B\uFF0C\u4F7F\u7528 TVM \u8FDB\u884C\u7F16\u8BD1\uFF0C\u5E76\u751F\u6210\u5305\u542B\u6A21\u578B\u751F\u6210\u4EE3\u7801\u4EE5\u53CA\u6240\u6709\u6240\u9700 TVM \u4F9D\u8D56\u9879\u7684 ",(0,r.jsx)(e.a,{href:"https://tvm.apache.org/docs/arch/model_library_format.html",children:"Model Library Format"}),"\uFF08MLF\uFF09tar \u6587\u4EF6\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u6211\u4EEC\u8FD8\u5C06\u4E24\u4E2A\u4E8C\u8FDB\u5236\u683C\u5F0F\u7684\u6837\u672C\u56FE\u50CF\uFF08\u4E00\u4E2A\u4EBA\u548C\u4E00\u4E2A\u975E\u4EBA\u6837\u672C\uFF09\u6DFB\u52A0\u5230 .tar \u6587\u4EF6\u4E2D\uFF0C\u4EE5\u7528\u4E8E\u8BC4\u4F30\u6A21\u578B\u3002"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u63A5\u4E0B\u6765\uFF0C\u6211\u4EEC\u4F7F\u7528 stmCubeMX \u751F\u6210\u5728 stmCube IDE \u4E2D\u9879\u76EE\u7684\u521D\u59CB\u5316\u4EE3\u7801\u3002"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u7136\u540E\uFF0C\u6211\u4EEC\u5C06\u6211\u4EEC\u7684 MLF \u6587\u4EF6\u548C\u6240\u9700\u7684 CMSIS \u5E93\u5305\u542B\u5230\u9879\u76EE\u4E2D\u5E76\u8FDB\u884C\u6784\u5EFA\u3002"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u6700\u540E\uFF0C\u6211\u4EEC\u70E7\u5199\u8BBE\u5907\u5E76\u5728\u6211\u4EEC\u7684\u6837\u672C\u56FE\u50CF\u4E0A\u8BC4\u4F30\u6A21\u578B\u6027\u80FD\u3002"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"\u8BA9\u6211\u4EEC\u5F00\u59CB\u5427\u3002"}),"\n",(0,r.jsx)(e.h1,{id:"\u5B89\u88C5-microtvm-python-\u4F9D\u8D56\u9879",children:"\u5B89\u88C5 microTVM Python \u4F9D\u8D56\u9879"}),"\n",(0,r.jsx)(e.p,{children:"TVM \u4E0D\u5305\u542B\u7528\u4E8E Python \u4E32\u884C\u901A\u4FE1\u7684\u5305\uFF0C\u56E0\u6B64\u5728\u4F7F\u7528 microTVM \u4E4B\u524D\uFF0C\u6211\u4EEC\u5FC5\u987B\u5B89\u88C5\u4E00\u4E2A\u3002\u6211\u4EEC\u8FD8\u9700\u8981 TFLite \u4EE5\u52A0\u8F7D\u6A21\u578B\uFF0C\u4EE5\u53CA Pillow \u4EE5\u51C6\u5907\u6837\u672C\u56FE\u50CF\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"pip install pyserial==3.5 tflite==2.1 Pillow==9.0 typing_extensions\n"})}),"\n",(0,r.jsx)(e.h1,{id:"\u5BFC\u5165-python-\u4F9D\u8D56\u9879",children:"\u5BFC\u5165 Python \u4F9D\u8D56\u9879"}),"\n",(0,r.jsxs)(e.p,{children:["\u5982\u679C\u8981\u5728\u672C\u5730\u8FD0\u884C\u6B64\u811A\u672C\uFF0C\u8BF7\u67E5\u770B ",(0,r.jsx)(e.a,{href:"https://tvm.apache.org/docs/install/index.html",children:"TVM \u5728\u7EBF\u6587\u6863"}),"\uFF0C\u4E86\u89E3\u5B89\u88C5 TVM \u7684\u8BF4\u660E\u3002"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:"import os\nimport numpy as np\nimport pathlib\nimport json\nfrom PIL import Image\nimport tarfile\n\nimport tvm\nfrom tvm import relay\nfrom tvm.relay.backend import Executor, Runtime\nfrom tvm.contrib.download import download_testdata\nfrom tvm.micro import export_model_library_format\nfrom tvm.relay.op.contrib import cmsisnn\nfrom tvm.micro.testing.utils import create_header_file\n"})}),"\n",(0,r.jsx)(e.h1,{id:"\u5BFC\u5165-tflite-\u6A21\u578B",children:"\u5BFC\u5165 TFLite \u6A21\u578B"}),"\n",(0,r.jsxs)(e.p,{children:["\u9996\u5148\uFF0C\u4E0B\u8F7D\u5E76\u5BFC\u5165 Visual Wake Word TFLite \u6A21\u578B\u3002\u8BE5\u6A21\u578B\u63A5\u53D7\u4E00\u4E2A 96x96x3 \u7684 RGB \u56FE\u50CF\uFF0C\u5E76\u786E\u5B9A\u56FE\u50CF\u4E2D\u662F\u5426\u5B58\u5728\u4EBA\u7269\u3002\u6B64\u6A21\u578B\u6700\u521D\u6765\u81EA",(0,r.jsx)(e.a,{href:"https://github.com/mlcommons/tiny",children:" MLPerf Tiny \u4ED3\u5E93"}),"\u3002\u4E3A\u4E86\u6D4B\u8BD5\u8BE5\u6A21\u578B\uFF0C\u6211\u4EEC\u4F7F\u7528 ",(0,r.jsx)(e.a,{href:"https://cocodataset.org/",children:"COCO 2014 Train images"})," \u4E2D\u7684\u4E24\u4E2A\u6837\u672C\u3002"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:'MODEL_URL = "https://github.com/mlcommons/tiny/raw/bceb91c5ad2e2deb295547d81505721d3a87d578/benchmark/training/visual_wake_words/trained_models/vww_96_int8.tflite"\nMODEL_NAME = "vww_96_int8.tflite"\nMODEL_PATH = download_testdata(MODEL_URL, MODEL_NAME, module="model")\n\ntflite_model_buf = open(MODEL_PATH, "rb").read()\ntry:\n    import tflite\n\n    tflite_model = tflite.Model.GetRootAsModel(tflite_model_buf, 0)\nexcept AttributeError:\n    import tflite.Model\n\n    tflite_model = tflite.Model.Model.GetRootAsModel(tflite_model_buf, 0)\n\ninput_shape = (1, 96, 96, 3)\nINPUT_NAME = "input_1_int8"\nrelay_mod, params = relay.frontend.from_tflite(\n    tflite_model, shape_dict={INPUT_NAME: input_shape}, dtype_dict={INPUT_NAME: "int8"}\n)\n'})}),"\n",(0,r.jsx)(e.h1,{id:"\u751F\u6210\u6A21\u578B\u5E93\u683C\u5F0F\u6587\u4EF6",children:"\u751F\u6210\u6A21\u578B\u5E93\u683C\u5F0F\u6587\u4EF6"}),"\n",(0,r.jsx)(e.p,{children:"\u9996\u5148\uFF0C\u6211\u4EEC\u5B9A\u4E49\u76EE\u6807\u3001\u8FD0\u884C\u65F6\u548C\u6267\u884C\u5668\u3002\u7136\u540E\uFF0C\u6211\u4EEC\u4E3A\u76EE\u6807\u8BBE\u5907\u7F16\u8BD1\u6A21\u578B\uFF0C\u6700\u540E\u5BFC\u51FA\u751F\u6210\u7684\u4EE3\u7801\u548C\u6240\u6709\u5FC5\u9700\u7684\u4F9D\u8D56\u9879\u5230\u5355\u4E2A\u6587\u4EF6\u4E2D\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:'# \u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528 TVM \u7684\u672C\u5730\u8C03\u5EA6\u6216\u4F9D\u8D56\u4E8E CMSIS-NN \u5185\u6838\uFF0C\u4F7F\u7528 TVM \u7684 Bring-Your-Own-Code (BYOC) \u80FD\u529B\u3002\nUSE_CMSIS_NN = True\n\n# USMP (Unified Static Memory Planning) \u5BF9\u6240\u6709\u5F20\u91CF\u8FDB\u884C\u7EFC\u5408\u5185\u5B58\u89C4\u5212\uFF0C\u4EE5\u5B9E\u73B0\u6700\u4F73\u5185\u5B58\u5229\u7528\u3002\nDISABLE_USMP = False\n\n# \u4F7F\u7528 C \u8FD0\u884C\u65F6\uFF08crt\uFF09\nRUNTIME = Runtime("crt")\n\n# \u6211\u4EEC\u901A\u8FC7\u5C06\u677F\u540D\u79F0\u4F20\u9012\u7ED9 `tvm.target.target.micro` \u6765\u5B9A\u4E49\u76EE\u6807\u3002\n# \u5982\u679C\u60A8\u7684\u677F\u578B\u672A\u5305\u542B\u5728\u652F\u6301\u7684\u6A21\u578B\u4E2D\uFF0C\u60A8\u53EF\u4EE5\u5B9A\u4E49\u76EE\u6807\uFF0C\u5982\u4E0B\u6240\u793A\uFF1A\n# TARGET = tvm.target.Target("c -keys=arm_cpu,cpu -mcpu=cortex-m4")\nTARGET = tvm.target.target.micro("stm32l4r5zi")\n\n# \u4F7F\u7528 AOT \u6267\u884C\u5668\u800C\u4E0D\u662F\u56FE\u5F62\u6216\u865A\u62DF\u673A\u6267\u884C\u5668\u3002\u4F7F\u7528\u672A\u6253\u5305\u7684 API \u548C C \u8C03\u7528\u98CE\u683C\u3002\nEXECUTOR = tvm.relay.backend.Executor(\n    "aot", {"unpacked-api": True, "interface-api": "c", "workspace-byte-alignment": 8}\n)\n\n# \u73B0\u5728\uFF0C\u6211\u4EEC\u8BBE\u7F6E\u7F16\u8BD1\u914D\u7F6E\u5E76\u4E3A\u76EE\u6807\u7F16\u8BD1\u6A21\u578B\uFF1A\nconfig = {"tir.disable_vectorize": True}\nif USE_CMSIS_NN:\n    config["relay.ext.cmsisnn.options"] = {"mcpu": TARGET.mcpu}\nif DISABLE_USMP:\n    config["tir.usmp.enable"] = False\n\nwith tvm.transform.PassContext(opt_level=3, config=config):\n    if USE_CMSIS_NN:\n        # \u5F53\u6211\u4EEC\u4F7F\u7528 CMSIS-NN \u65F6\uFF0CTVM \u5728 relay \u56FE\u4E2D\u641C\u7D22\u53EF\u4EE5\u8F6C\u79FB\u5230 CMSIS-NN \u5185\u6838\u7684\u6A21\u5F0F\u3002\n        relay_mod = cmsisnn.partition_for_cmsisnn(relay_mod, params, mcpu=TARGET.mcpu)\n    lowered = tvm.relay.build(\n        relay_mod, target=TARGET, params=params, runtime=RUNTIME, executor=EXECUTOR\n    )\nparameter_size = len(tvm.runtime.save_param_dict(lowered.get_params()))\nprint(f"Model parameter size: {parameter_size}")\n\n# \u6211\u4EEC\u9700\u8981\u9009\u62E9\u4E00\u4E2A\u76EE\u5F55\u6765\u4FDD\u5B58\u6211\u4EEC\u7684\u6587\u4EF6\u3002\n# \u5982\u679C\u5728 Google Colab \u4E0A\u8FD0\u884C\uFF0C\u6211\u4EEC\u5C06\u4FDD\u5B58\u6240\u6709\u5185\u5BB9\u5728 ``/root/tutorial`` \u4E2D\uFF08\u4E5F\u5C31\u662F ``~/tutorial``\uFF09\uFF0C\n# \u4F46\u662F\u5982\u679C\u5728\u672C\u5730\u8FD0\u884C\uFF0C\u60A8\u53EF\u80FD\u5E0C\u671B\u5C06\u5176\u5B58\u50A8\u5728\u5176\u4ED6\u4F4D\u7F6E\u3002\n\nBUILD_DIR = pathlib.Path("/root/tutorial")\n\nBUILD_DIR.mkdir(exist_ok=True)\n\n# \u73B0\u5728\uFF0C\u6211\u4EEC\u5C06\u6A21\u578B\u5BFC\u51FA\u4E3A\u4E00\u4E2A tar \u6587\u4EF6\uFF1A\nTAR_PATH = pathlib.Path(BUILD_DIR) / "model.tar"\nexport_model_library_format(lowered, TAR_PATH)\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u8F93\u51FA\uFF1A"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"Model parameter size: 32\n\nPosixPath('/workspace/gallery/how_to/work_with_microtvm/tutorial/model.tar')\n"})}),"\n",(0,r.jsx)(e.h2,{id:"\u5C06\u6837\u672C\u56FE\u50CF\u6DFB\u52A0\u5230-mlf-\u6587\u4EF6\u4E2D",children:"\u5C06\u6837\u672C\u56FE\u50CF\u6DFB\u52A0\u5230 MLF \u6587\u4EF6\u4E2D"}),"\n",(0,r.jsx)(e.p,{children:"\u6700\u540E\uFF0C\u6211\u4EEC\u4E0B\u8F7D\u4E24\u4E2A\u6837\u672C\u56FE\u50CF\uFF08\u4E00\u4E2A\u4EBA\u56FE\u50CF\u548C\u4E00\u4E2A\u975E\u4EBA\u56FE\u50CF\uFF09\uFF0C\u5C06\u5B83\u4EEC\u8F6C\u6362\u4E3A\u4E8C\u8FDB\u5236\u683C\u5F0F\uFF0C\u5E76\u5B58\u50A8\u5728\u4E24\u4E2A\u5934\u6587\u4EF6\u4E2D\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:'with tarfile.open(TAR_PATH, mode="a") as tar_file:\n    SAMPLES_DIR = "samples"\n    SAMPLE_PERSON_URL = (\n        "https://github.com/tlc-pack/web-data/raw/main/testdata/microTVM/data/vww_sample_person.jpg"\n    )\n    SAMPLE_NOT_PERSON_URL = "https://github.com/tlc-pack/web-data/raw/main/testdata/microTVM/data/vww_sample_not_person.jpg"\n\n    SAMPLE_PERSON_PATH = download_testdata(SAMPLE_PERSON_URL, "person.jpg", module=SAMPLES_DIR)\n    img = Image.open(SAMPLE_PERSON_PATH)\n    create_header_file("sample_person", np.asarray(img), SAMPLES_DIR, tar_file)\n\n    SAMPLE_NOT_PERSON_PATH = download_testdata(\n        SAMPLE_NOT_PERSON_URL, "not_person.jpg", module=SAMPLES_DIR\n    )\n    img = Image.open(SAMPLE_NOT_PERSON_PATH)\n    create_header_file("sample_not_person", np.asarray(img), SAMPLES_DIR, tar_file)\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u5728\u8FD9\u4E00\u70B9\u4E0A\uFF0C\u60A8\u5DF2\u7ECF\u5177\u5907\u5C06\u7F16\u8BD1\u540E\u7684\u6A21\u578B\u5BFC\u5165\u5230\u60A8\u7684 IDE \u5E76\u8FDB\u884C\u8BC4\u4F30\u6240\u9700\u7684\u4E00\u5207\u3002\u5728 MLF \u6587\u4EF6\uFF08model.tar\uFF09\u4E2D\uFF0C\u60A8\u5E94\u8BE5\u627E\u5230\u4EE5\u4E0B\u6587\u4EF6\u5C42\u6B21\u7ED3\u6784\uFF1A"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"/root\n\u251C\u2500\u2500 codegen\n\u251C\u2500\u2500 parameters\n\u251C\u2500\u2500 runtime\n\u251C\u2500\u2500 samples\n\u251C\u2500\u2500 src\n\u251C\u2500\u2500 templates\n\u251C\u2500\u2500 metadata.json\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"codegen \u6587\u4EF6\u5939\uFF1A\u5305\u542B\u4E86\u7531 TVM \u4E3A\u60A8\u7684\u6A21\u578B\u751F\u6210\u7684 C \u4EE3\u7801\u3002"}),"\n",(0,r.jsx)(e.li,{children:"runtime \u6587\u4EF6\u5939\uFF1A\u5305\u542B\u4E86\u76EE\u6807\u9700\u8981\u7F16\u8BD1\u751F\u6210\u7684 C \u4EE3\u7801\u6240\u9700\u7684\u6240\u6709 TVM \u4F9D\u8D56\u9879\u3002"}),"\n",(0,r.jsx)(e.li,{children:"samples \u6587\u4EF6\u5939\uFF1A\u5305\u542B\u4E86\u7528\u4E8E\u8BC4\u4F30\u6A21\u578B\u7684\u4E24\u4E2A\u751F\u6210\u7684\u6837\u672C\u6587\u4EF6\u3002"}),"\n",(0,r.jsx)(e.li,{children:"src \u6587\u4EF6\u5939\uFF1A\u5305\u542B\u4E86\u63CF\u8FF0\u6A21\u578B\u7684 relay \u6A21\u5757\u3002"}),"\n",(0,r.jsx)(e.li,{children:"templates \u6587\u4EF6\u5939\uFF1A\u5305\u542B\u4E86\u4E24\u4E2A\u6A21\u677F\u6587\u4EF6\uFF0C\u6839\u636E\u60A8\u7684\u5E73\u53F0\u53EF\u80FD\u9700\u8981\u8FDB\u884C\u7F16\u8F91\u3002"}),"\n",(0,r.jsx)(e.li,{children:"metadata.json \u6587\u4EF6\uFF1A\u5305\u542B\u6709\u5173\u6A21\u578B\u3001\u5176\u5C42\u6B21\u548C\u5185\u5B58\u9700\u6C42\u7684\u4FE1\u606F\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"\u751F\u6210\u5728\u60A8\u7684-ide-\u4E2D\u7684\u9879\u76EE",children:"\u751F\u6210\u5728\u60A8\u7684 IDE \u4E2D\u7684\u9879\u76EE"}),"\n",(0,r.jsxs)(e.p,{children:["\u4E0B\u4E00\u6B65\u662F\u4E3A\u76EE\u6807\u8BBE\u5907\u521B\u5EFA\u4E00\u4E2A\u9879\u76EE\u3002\u6211\u4EEC\u4F7F\u7528 STM32CubeIDE\uFF0C\u60A8\u53EF\u4EE5\u5728",(0,r.jsx)(e.a,{href:"https://www.st.com/en/development-tools/stm32cubeide.html",children:"\u6B64\u5904"}),"\u4E0B\u8F7D\u3002\u5728\u672C\u6559\u7A0B\u4E2D\uFF0C\u6211\u4EEC\u4F7F\u7528\u7684\u662F\u7248\u672C 1.11.0\u3002\u5B89\u88C5 STM32CubeIDE \u540E\uFF0C\u8BF7\u6309\u7167\u4EE5\u4E0B\u6B65\u9AA4\u521B\u5EFA\u9879\u76EE\uFF1A"]}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"\u9009\u62E9 File -> New -> STM32Project\u3002\u76EE\u6807\u9009\u62E9\u7A97\u53E3\u5C06\u51FA\u73B0\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u8F6C\u5230 \u201CBoard Selector\u201D \u9009\u9879\u5361\uFF0C\u5728 \u201CCommercial Part Number\u201D \u6587\u672C\u6846\u4E2D\u952E\u5165\u677F\u540D\u79F0 \u201Cnucleo-l4r5zi\u201D\u3002\u4ECE\u53F3\u4FA7\u663E\u793A\u7684\u677F\u5217\u8868\u4E2D\u9009\u62E9\u677F\uFF0C\u5E76\u5355\u51FB \u201CNext\u201D\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u8F93\u5165\u9879\u76EE\u540D\u79F0\uFF08\u4F8B\u5982 microtvm_vww_demo\uFF09\u3002\u6211\u4EEC\u4F7F\u7528\u9ED8\u8BA4\u9009\u9879\uFF08\u76EE\u6807\u8BED\u8A00\uFF1AC\uFF0C\u4E8C\u8FDB\u5236\u7C7B\u578B\uFF1A\u53EF\u6267\u884C\u6587\u4EF6\uFF0C\u9879\u76EE\u7C7B\u578B\uFF1ASTM32Cube\uFF09\u3002\u5355\u51FB \u201CFinish\u201D\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u4E00\u4E2A\u6587\u672C\u6846\u5C06\u51FA\u73B0\uFF0C\u8BE2\u95EE\u662F\u5426\u8981 \u201C\u4EE5\u9ED8\u8BA4\u6A21\u5F0F\u521D\u59CB\u5316\u6240\u6709\u5916\u8BBE\uFF1F\u201D\u3002\u70B9\u51FB \u201CYes\u201D\u3002\u8FD9\u5C06\u751F\u6210\u9879\u76EE\u5E76\u6253\u5F00\u8BBE\u5907\u914D\u7F6E\u5DE5\u5177\uFF0C\u60A8\u53EF\u4EE5\u4F7F\u7528 GUI \u8BBE\u7F6E\u5916\u8BBE\u3002\u9ED8\u8BA4\u60C5\u51B5\u4E0B\u542F\u7528\u4E86 USB\u3001USART3 \u548C LPUART1\uFF0C\u4EE5\u53CA\u4E00\u4E9B GPIO\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u6211\u4EEC\u5C06\u4F7F\u7528 LPUART1 \u5C06\u6570\u636E\u53D1\u9001\u5230\u4E3B\u673A PC\u3002\u4ECE\u8FDE\u63A5\u90E8\u5206\u4E2D\u9009\u62E9 LPUART1\uFF0C\u5E76\u5C06 \u201CBaud Rate\u201D \u8BBE\u7F6E\u4E3A 115200\uFF0C\u5C06 \u201CWord Length\u201D \u8BBE\u7F6E\u4E3A 8\u3002\u4FDD\u5B58\u66F4\u6539\u5E76\u70B9\u51FB \u201CYes\u201D \u4EE5\u91CD\u65B0\u751F\u6210\u521D\u59CB\u5316\u4EE3\u7801\u3002\u8FD9\u5E94\u8BE5\u4F1A\u91CD\u65B0\u751F\u6210\u4EE3\u7801\u5E76\u6253\u5F00\u60A8\u7684 main.c \u6587\u4EF6\u3002\u60A8\u8FD8\u53EF\u4EE5\u4ECE\u5DE6\u4FA7\u7684 Project Explorer \u9762\u677F\u4E2D\u627E\u5230 main.c\uFF0C\u5728 microtvm_vww_demo -> Core -> Src \u4E0B\u3002"}),"\n",(0,r.jsxs)(e.li,{children:["\u4E3A\u4E86\u8FDB\u884C\u5065\u5168\u6027\u68C0\u67E5\uFF0C\u8BF7\u590D\u5236\u4E0B\u9762\u7684\u4EE3\u7801\u5E76\u5C06\u5176\u7C98\u8D34\u5230\u4E3B\u51FD\u6570\u7684\u65E0\u7EBF\u5FAA\u73AF\uFF08\u5373 While(1) \uFF09\u90E8\u5206\u3002","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u6CE8\u610F\uFF1A\u786E\u4FDD\u60A8\u7684\u4EE3\u7801\u5199\u5728\u7531 USER CODE BEGIN<...> \u548C USER CODE END<...> \u5305\u56F4\u7684\u90E8\u5206\u5185\u3002\u5982\u679C\u91CD\u65B0\u751F\u6210\u521D\u59CB\u5316\u4EE3\u7801\uFF0C\u88AB\u5305\u56F4\u4E4B\u5916\u7684\u4EE3\u7801\u5C06\u88AB\u64E6\u9664\u3002"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:'HAL_GPIO_TogglePin(LD2_GPIO_Port, LD2_Pin);\nHAL_UART_Transmit(&hlpuart1, "Hello World.\\r\\n", 14, 100);\nHAL_Delay(1000);\n'})}),"\n",(0,r.jsxs)(e.ol,{start:"7",children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u4ECE\u83DC\u5355\u680F\u4E2D\u9009\u62E9 Project -> Build\uFF08\u6216\u53F3\u952E\u5355\u51FB\u9879\u76EE\u540D\u79F0\u5E76\u9009\u62E9 Build\uFF09\u3002\u8FD9\u5C06\u6784\u5EFA\u9879\u76EE\u5E76\u751F\u6210 .elf \u6587\u4EF6\u3002\u9009\u62E9 Run -> Run \u4EE5\u5C06\u4E8C\u8FDB\u5236\u6587\u4EF6\u4E0B\u8F7D\u5230\u60A8\u7684 MCU\u3002\u5982\u679C\u6253\u5F00\u4E86\u201CEdit Configuration\u201D\u7A97\u53E3\uFF0C\u8BF7\u76F4\u63A5\u70B9\u51FB \u201COK\u201D\u3002"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u5728\u4E3B\u673A\u673A\u5668\u4E0A\u6253\u5F00\u7EC8\u7AEF\u63A7\u5236\u53F0\u3002\u5728 Mac \u4E0A\uFF0C\u60A8\u53EF\u4EE5\u7B80\u5355\u5730\u4F7F\u7528 \u201Cscreen <usb_device> 115200\u201D \u547D\u4EE4\uFF0C\u4F8B\u5982 \u201Cscreen tty.usbmodemXXXX 115200\u201D \u3002\u677F\u4E0A\u7684 LED \u5E94\u8BE5\u4F1A\u95EA\u70C1\uFF0C\u7EC8\u7AEF\u63A7\u5236\u53F0\u4E0A\u6BCF\u79D2\u5E94\u8BE5\u4F1A\u6253\u5370\u51FA\u5B57\u7B26\u4E32 \u201CHello World.\u201D\u3002\u6309 \u201CControl-a k\u201D \u9000\u51FA screen\u3002"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"\u5C06\u6A21\u578B\u5BFC\u5165\u751F\u6210\u7684\u9879\u76EE",children:"\u5C06\u6A21\u578B\u5BFC\u5165\u751F\u6210\u7684\u9879\u76EE"}),"\n",(0,r.jsx)(e.p,{children:"\u8981\u5C06\u7F16\u8BD1\u540E\u7684\u6A21\u578B\u96C6\u6210\u5230\u751F\u6210\u7684\u9879\u76EE\u4E2D\uFF0C\u8BF7\u6309\u7167\u4EE5\u4E0B\u6B65\u9AA4\u64CD\u4F5C\uFF1A"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u89E3\u538B tar \u6587\u4EF6\u5E76\u5C06\u5176\u5305\u542B\u5728\u9879\u76EE\u4E2D"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u6253\u5F00\u9879\u76EE\u5C5E\u6027\uFF08\u53F3\u952E\u5355\u51FB\u9879\u76EE\u540D\u79F0\u5E76\u9009\u62E9 \u201CProperties\u201D \u6216\u4ECE\u83DC\u5355\u680F\u9009\u62E9 Project -> Properties\uFF09\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u9009\u62E9 C/C++ General -> Paths and Symbols\u3002\u9009\u62E9 Source Location \u9009\u9879\u5361\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u5982\u679C\u60A8\u5C06\u6A21\u578B\u89E3\u538B\u7F29\u5728\u9879\u76EE\u6587\u4EF6\u5939\u5185\uFF0C\u8BF7\u70B9\u51FB \u201CAdd Folder\u201D \u5E76\u9009\u62E9 \u201Cmodel\u201D \u6587\u4EF6\u5939\uFF08\u5728\u5B83\u51FA\u73B0\u4E4B\u524D\uFF0C\u60A8\u53EF\u80FD\u9700\u8981\u53F3\u952E\u5355\u51FB\u9879\u76EE\u540D\u79F0\u5E76\u9009\u62E9 \u201CRefresh\u201D\uFF09\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u5982\u679C\u60A8\u5728\u5176\u4ED6\u5730\u65B9\u89E3\u538B\u7F29\u4E86\u6A21\u578B\u6587\u4EF6\uFF0C\u8BF7\u70B9\u51FB \u201CLink Folder\u201D \u6309\u94AE\uFF0C\u5728\u51FA\u73B0\u7684\u7A97\u53E3\u4E2D\u9009\u4E2D \u201CLink to folder in the file system\u201D \u590D\u9009\u6846\uFF0C\u70B9\u51FB \u201CBrowse\u201D \u5E76\u9009\u62E9\u6A21\u578B\u6587\u4EF6\u5939\u3002"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u5982\u679C\u5728\u7F16\u8BD1\u6A21\u578B\u65F6\u4F7F\u7528\u4E86 CMSIS-NN\uFF0C\u60A8\u8FD8\u9700\u8981\u5728\u9879\u76EE\u4E2D\u5305\u542B CMSIS-NN \u6E90\u6587\u4EF6\u3002"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u4ECE ",(0,r.jsx)(e.a,{href:"https://github.com/ARM-software/CMSIS_5",children:"CMSIS-NN \u5B58\u50A8\u5E93"}),"\u4E0B\u8F7D\u6216\u514B\u9686\u6587\u4EF6\uFF0C\u5E76\u6309\u7167\u4E0A\u8FF0\u6B65\u9AA4\u5C06 CMSIS-NN \u6587\u4EF6\u5939\u5305\u542B\u5728\u9879\u76EE\u4E2D\u3002"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u6253\u5F00\u9879\u76EE\u5C5E\u6027\u3002\u5728 C/C++ Build -> Settings \u4E2D\uFF1A\u901A\u8FC7\u70B9\u51FB \u201C+\u201D \u6309\u94AE\uFF0C\u9009\u62E9 \u201CWorkspace\u201D \uFF0C\u5E76\u5BFC\u822A\u5230\u4EE5\u4E0B\u5404\u4E2A\u6587\u4EF6\u5939\u3002\u5C06\u4EE5\u4E0B\u6587\u4EF6\u5939\u6DFB\u52A0\u5230 MCU GCC Compiler \u7684 Include Paths \u5217\u8868\u4E2D\uFF08\u5982\u679C\u662F C++ \u9879\u76EE\u8FD8\u9700\u6DFB\u52A0\u5230 MCU G++ Compiler \u4E2D\uFF09\uFF1A"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"model/runtime/include"}),"\n",(0,r.jsx)(e.li,{children:"model/codegen/host/include"}),"\n",(0,r.jsx)(e.li,{children:"model/samples"}),"\n",(0,r.jsx)(e.li,{children:"CMSIS-NN/Include"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u4ECE model/templates \u590D\u5236 crt_config.h.template \u5230 Core/Inc \u6587\u4EF6\u5939\uFF0C\u5E76\u5C06\u5176\u91CD\u547D\u540D\u4E3A crt_config.h\u3002"}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u4ECE model/templates \u590D\u5236 platform.c.template \u5230 Core/Src \u6587\u4EF6\u5939\uFF0C\u5E76\u5C06\u5176\u91CD\u547D\u540D\u4E3A platform.c\u3002"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u6B64\u6587\u4EF6\u5305\u542B\u60A8\u53EF\u80FD\u9700\u8981\u6839\u636E\u5E73\u53F0\u7F16\u8F91\u7684\u5185\u5B58\u7BA1\u7406\u51FD\u6570\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u5728 platform.c \u4E2D\u5B9A\u4E49 \u201CTVM_WORKSPACE_SIZE_BYTES\u201D \u7684\u503C\u3002\u5982\u679C\u4F7F\u7528 USMP\uFF0C\u5219\u53EA\u9700\u8981\u6BD4\u8F83\u5C0F\u7684\u503C\uFF08\u4F8B\u5982 1024 \u5B57\u8282\uFF09\u5373\u53EF\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u5982\u679C\u4E0D\u4F7F\u7528 USMP\uFF0C\u8BF7\u67E5\u770B metadata.json \u4E2D\u7684 \u201Cworkspace_size_bytes\u201D \u5B57\u6BB5\u4EE5\u4F30\u7B97\u6240\u9700\u5185\u5B58\u3002"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u4ECE\u6784\u5EFA\u4E2D\u6392\u9664\u4EE5\u4E0B\u6587\u4EF6\u5939\uFF08\u53F3\u952E\u5355\u51FB\u6587\u4EF6\u5939\u540D\u79F0\uFF0C\u9009\u62E9 Resource Configuration \u2192 Exclude from build\uFF09\u3002\u68C0\u67E5 Debug \u548C Release \u914D\u7F6E\u3002"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"CMSIS_NN/Tests"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["\u4ECE ",(0,r.jsx)(e.a,{href:"https://github.com/ARM-software/CMSIS_5",children:"CMSIS Version 5 \u5B58\u50A8\u5E93"}),"\u4E0B\u8F7D CMSIS \u9A71\u52A8\u7A0B\u5E8F\u3002"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5728\u9879\u76EE\u76EE\u5F55\u4E2D\uFF0C\u5220\u9664 Drivers/CMSIS/Include \u6587\u4EF6\u5939\uFF08\u8FD9\u662F CMSIS \u9A71\u52A8\u7A0B\u5E8F\u7684\u65E7\u7248\u672C\uFF09\uFF0C\u5E76\u5C06\u60A8\u4ECE\u4E0B\u8F7D\u7684\u7248\u672C\u4E2D\u590D\u5236\u7684 CMSIS/Core/Include \u7C98\u8D34\u5230\u76F8\u540C\u4F4D\u7F6E\u3002"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"\u7F16\u8F91 main.c \u6587\u4EF6\uFF1A"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5305\u542B\u4E0B\u5217\u5934\u6587\u4EF6"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-c",children:'#include <stdio.h>\n#include <string.h>\n#include <stdarg.h>\n#include "tvmgen_default.h"\n#include "sample_person.h"\n#include "sample_not_person.h"\n'})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5728 main \u51FD\u6570\u7684\u65E0\u9650\u5FAA\u73AF\u524D\u590D\u5236\u4E0B\u9762\u8FD9\u6BB5\u4EE3\u7801\u3002\u8BE5\u4EE3\u7801\u8BBE\u7F6E\u6A21\u578B\u7684\u8F93\u5165\u548C\u8F93\u51FA"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-c",children:'TVMPlatformInitialize();\nsigned char output[2];\nstruct tvmgen_default_inputs inputs = {\n.input_1_int8 = (void*)&sample_person,\n};\nstruct tvmgen_default_outputs outputs = {\n.Identity_int8 = (void*)&output,\n};\nchar msg[] = "Evaluating VWW model using microTVM:\\r\\n";\nHAL_UART_Transmit(&hlpuart1, msg, strlen(msg), 100);\nuint8_t sample = 0;\nuint32_t timer_val;\nchar buf[50];\nuint16_t buf_len;\n'})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5C06\u4EE5\u4E0B\u4EE3\u7801\u590D\u5236\u5230\u65E0\u9650\u5FAA\u73AF\u4E2D\u3002\u8BE5\u4EE3\u7801\u5C06\u5728\u56FE\u7247\u4E0A\u8FD0\u884C\u63A8\u65AD\u5E76\u5728\u63A7\u5236\u53F0\u6253\u5370\u7ED3\u679C\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-c",children:'if (sample == 0)\n    inputs.input_1_int8 = (void*)&sample_person;\nelse\n    inputs.input_1_int8 = (void*)&sample_not_person;\n\ntimer_val = HAL_GetTick();\ntvmgen_default_run(&inputs, &outputs);\ntimer_val = HAL_GetTick() - timer_val;\nif (output[0] > output[1])\n    buf_len = sprintf(buf, "Person not detected, inference time = %lu ms\\r\\n", timer_val);\nelse\n    buf_len = sprintf(buf, "Person detected, inference time = %lu ms\\r\\n", timer_val);\nHAL_UART_Transmit(&hlpuart1, buf, buf_len, 100);\n\nsample++;\nif (sample == 2)\n    sample = 0;\n\n'})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u5728 main \u4E2D\u5B9A\u4E49 TVMLogf \u51FD\u6570\uFF0C\u63A5\u53D7 TVM \u8FD0\u884C\u65F6\u5728\u63A7\u5236\u53F0\u7684\u62A5\u9519"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-c",children:"void TVMLogf(const char* msg, ...) {\n  char buffer[128];\n  int size;\n  va_list args;\n  va_start(args, msg);\n  size = TVMPlatformFormatMessage(buffer, 128, msg, args);\n  va_end(args);\n  HAL_UART_Transmit(&hlpuart1, buffer, size, 100);\n}\n\n"})}),"\n",(0,r.jsxs)(e.ol,{start:"9",children:["\n",(0,r.jsx)(e.li,{children:"\u5728\u9879\u76EE\u5C5E\u6027\u4E2D\uFF0C\u627E\u5230  C/C++ Build -> Settings, MCU GCC Compiler -> Optimization\uFF0C\u8BBE\u7F6E Optimization \u4E3A Optimize more (-O2)\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"\u8BC4\u4F30\u6A21\u578B",children:"\u8BC4\u4F30\u6A21\u578B"}),"\n",(0,r.jsx)(e.p,{children:"\u73B0\u5728\uFF0C\u9009\u62E9\u83DC\u5355\u680F\u4E2D\u7684 Run -> Run \u6765\u5237\u5199 MCU \u5E76\u8FD0\u884C\u9879\u76EE\u3002\u60A8\u5E94\u8BE5\u770B\u5230 LED \u5728\u95EA\u70C1\uFF0C\u5E76\u4E14\u63A7\u5236\u53F0\u4E0A\u5728\u6253\u5370\u63A8\u7406\u7ED3\u679C\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.a,{href:"https://tvm.apache.org/docs/v0.13.0/_downloads/9322c6c215567e9975d1df6b3a218ff1/micro_custom_ide.py",children:"\u4E0B\u8F7D Python \u6E90\u4EE3\u7801\uFF1Amicro_custom_ide.py"})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.a,{href:"https://tvm.apache.org/docs/v0.13.0/_downloads/a74627f44186b95116fe0ed6f77e3b99/micro_custom_ide.ipynb",children:"\u4E0B\u8F7D Jupyter notebook\uFF1Amicro_custom_ide.ipynb"})})]})}function m(n={}){let{wrapper:e}={...(0,l.a)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(d,{...n})}):d(n)}},21494:function(n,e,t){t.d(e,{Z:function(){return o},a:function(){return s}});var i=t(39546);let r={},l=i.createContext(r);function s(n){let e=i.useContext(l);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:s(n.components),i.createElement(l.Provider,{value:e},n.children)}}}]);