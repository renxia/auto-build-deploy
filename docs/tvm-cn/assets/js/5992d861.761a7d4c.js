"use strict";(self.webpackChunktvm_cn=self.webpackChunktvm_cn||[]).push([["58289"],{70219:function(e,n,i){i.r(n),i.d(n,{default:()=>m,frontMatter:()=>r,metadata:()=>s,assets:()=>o,toc:()=>d,contentTitle:()=>l});var s=JSON.parse('{"id":"contribute/git_howto","title":"Git \u4F7F\u7528\u6280\u5DE7","description":"\u4EE5\u4E0B\u662F Git \u5DE5\u4F5C\u6D41\u7A0B\u7684\u4E00\u4E9B\u6280\u5DE7\u3002","source":"@site/versioned_docs/version-0.10.0/contribute/git_howto.md","sourceDirName":"contribute","slug":"/contribute/git_howto","permalink":"/docs/tvm-cn/docs/0.10.0/contribute/git_howto","draft":false,"unlisted":false,"editUrl":"https://github.com/hyperai/tvm-cn/edit/master/versioned_docs/version-0.10.0/contribute/git_howto.md","tags":[],"version":"0.10.0","lastUpdatedBy":"sparanoid","lastUpdatedAt":1744717810000,"sidebarPosition":7,"frontMatter":{"title":"Git \u4F7F\u7528\u6280\u5DE7","sidebar_position":7},"sidebar":"tutorialSidebar","previous":{"title":"\u4EE3\u7801\u6307\u5357\u53CA Tips","permalink":"/docs/tvm-cn/docs/0.10.0/contribute/code_guide"},"next":{"title":"\u4F7F\u7528 TVM \u7684 CI","permalink":"/docs/tvm-cn/docs/0.10.0/contribute/ci"}}'),t=i("74132"),c=i("21494");let r={title:"Git \u4F7F\u7528\u6280\u5DE7",sidebar_position:7},l=void 0,o={},d=[{value:"\u5982\u4F55\u89E3\u51B3\u4E0E <code>main</code> \u7684\u51B2\u7A81",id:"\u5982\u4F55\u89E3\u51B3\u4E0E-main-\u7684\u51B2\u7A81",level:2},{value:"\u5982\u4F55\u5C06\u591A\u4E2A commit merge \u4E3A\u4E00\u4E2A",id:"\u5982\u4F55\u5C06\u591A\u4E2A-commit-merge-\u4E3A\u4E00\u4E2A",level:2},{value:"\u91CD\u7F6E\u5230\u6700\u8FD1\u7684\u4E3B\u5206\u652F",id:"\u91CD\u7F6E\u5230\u6700\u8FD1\u7684\u4E3B\u5206\u652F",level:2},{value:"\u91CD\u7F6E\u540E\u6062\u590D\u5148\u524D\u7684 commit",id:"\u91CD\u7F6E\u540E\u6062\u590D\u5148\u524D\u7684-commit",level:2},{value:"\u4EC5\u5C06 k \u4E2A\u6700\u65B0 commit \u5E94\u7528\u4E8E main",id:"\u4EC5\u5C06-k-\u4E2A\u6700\u65B0-commit-\u5E94\u7528\u4E8E-main",level:2},{value:"\u5F3A\u5236 push \u7684\u540E\u679C\u662F\u4EC0\u4E48",id:"\u5F3A\u5236-push-\u7684\u540E\u679C\u662F\u4EC0\u4E48",level:2}];function a(e){let n={code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"\u4EE5\u4E0B\u662F Git \u5DE5\u4F5C\u6D41\u7A0B\u7684\u4E00\u4E9B\u6280\u5DE7\u3002"}),"\n",(0,t.jsxs)(n.h2,{id:"\u5982\u4F55\u89E3\u51B3\u4E0E-main-\u7684\u51B2\u7A81",children:["\u5982\u4F55\u89E3\u51B3\u4E0E ",(0,t.jsx)(n.code,{children:"main"})," \u7684\u51B2\u7A81"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"\u9996\u5148 rebase \u5230\u6700\u8FD1\u7684 main"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# \u524D\u4E24\u6B65\u5982\u679C\u64CD\u4F5C\u8FC7\u53EF\u4EE5\u8DF3\u8FC7\ngit remote add upstream [url to tvm repo]\ngit fetch upstream\ngit rebase upstream/main\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["Git \u4F1A\u663E\u793A\u4E00\u4E9B\u65E0\u6CD5 merge \u7684\u51B2\u7A81\uFF0C\u6BD4\u5982 ",(0,t.jsx)(n.code,{children:"conflicted.py"}),"\u3002"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"\u624B\u52A8\u4FEE\u6539\u6587\u4EF6\u4EE5\u89E3\u51B3\u51B2\u7A81\u3002"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"\u89E3\u51B3\u51B2\u7A81\u540E\uFF0C\u5C06\u5176\u6807\u8BB0\u4E3A\u5DF2\u89E3\u51B3"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"git add conflicted.py\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"\u7136\u540E\u53EF\u4EE5\u901A\u8FC7\u4EE5\u4E0B\u547D\u4EE4\u7EE7\u7EED rebase"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"git rebase --continue\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"\u6700\u540E\u5F3A\u5236 push \u5230\u4F60\u7684\u5206\u652F"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"git push --force\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"\u5982\u4F55\u5C06\u591A\u4E2A-commit-merge-\u4E3A\u4E00\u4E2A",children:"\u5982\u4F55\u5C06\u591A\u4E2A commit merge \u4E3A\u4E00\u4E2A"}),"\n",(0,t.jsx)(n.p,{children:"\u8981\u5C06\u591A\u4E2A commit\uFF08\u5C24\u5176\u662F\u540E\u9762\u7684 commit \u53EA\u662F\u5BF9\u524D\u9762 commit \u7684\u4FEE\u6539\u65F6\uFF09\u7EC4\u5408\u4E3A\u4E00\u4E2A PR \u53EF\u4EE5\u6309\u7167\u4EE5\u4E0B\u6B65\u9AA4\u64CD\u4F5C\u3002"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"\u5982\u679C\u4E4B\u524D\u6CA1\u6709\u914D\u7F6E\u8FC7 Git \u7684\u9ED8\u8BA4\u7F16\u8F91\u5668\uFF0C\u8BF7\u5148\u8FDB\u884C\u914D\u7F6E"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"git config core.editor the-editor-you-like\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"\u5047\u8BBE\u8981 merge \u6700\u65B0 3 \u4E2A commit\uFF0C\u8BF7\u8F93\u5165\u4EE5\u4E0B\u547D\u4EE4"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"git rebase -i HEAD~3\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:["\u5B83\u5C06\u5F39\u51FA\u4E00\u4E2A\u6587\u672C\u7F16\u8F91\u5668\u3002\u5C06\u7B2C\u4E00\u4E2A commit \u8BBE\u7F6E\u4E3A ",(0,t.jsx)(n.code,{children:"pick"}),"\uFF0C\u5E76\u5C06\u7A0D\u540E\u7684 commit \u66F4\u6539\u4E3A ",(0,t.jsx)(n.code,{children:"squash"}),"\u3002"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"\u4FDD\u5B58\u6587\u4EF6\u540E\uFF0C\u5B83\u4F1A\u5F39\u51FA\u53E6\u4E00\u4E2A\u6587\u672C\u7F16\u8F91\u5668\uFF0C\u8981\u6C42\u4FEE\u6539 merge \u7684 commit \u6D88\u606F\u3002"}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:"\u5C06\u66F4\u6539\u5F3A\u5236 push \u5230\u4F60\u7684\u5206\u652F\u3002"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"git push --force\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"\u91CD\u7F6E\u5230\u6700\u8FD1\u7684\u4E3B\u5206\u652F",children:"\u91CD\u7F6E\u5230\u6700\u8FD1\u7684\u4E3B\u5206\u652F"}),"\n",(0,t.jsxs)(n.p,{children:["\u53EF\u7528 git reset \u91CD\u7F6E\u4E3A\u6700\u65B0\u7684\u4E3B\u7248\u672C\u3002\u6CE8\u610F\uFF0C",(0,t.jsx)(n.strong,{children:"\u6240\u6709\u672C\u5730\u66F4\u6539\u90FD\u5C06\u4E22\u5931"}),"\u3002\u56E0\u6B64\uFF0C\u53EA\u6709\u5728\u6CA1\u6709\u672C\u5730\u66F4\u6539\u6216 pull request \u521A\u521A merge \u65F6\u624D\u53EF\u4EE5\u8FD9\u6837\u505A\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"git fetch origin main\ngit reset --hard FETCH_HEAD\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\u91CD\u7F6E\u540E\u6062\u590D\u5148\u524D\u7684-commit",children:"\u91CD\u7F6E\u540E\u6062\u590D\u5148\u524D\u7684 commit"}),"\n",(0,t.jsx)(n.p,{children:"\u6709\u65F6\u6211\u4EEC\u53EF\u80FD\u4F1A\u5C06\u5206\u652F\u91CD\u7F6E\u4E3A\u9519\u8BEF\u7684 commit\u3002\u53D1\u751F\u8FD9\u79CD\u60C5\u51B5\u65F6\uFF0C\u53EF\u4EE5\u4F7F\u7528\u4EE5\u4E0B\u547D\u4EE4\u663E\u793A\u6700\u8FD1 commit \u7684\u5217\u8868"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"git reflog\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u83B7\u5F97\u6B63\u786E\u7684 hashtag \u540E\uFF0C\u53EF\u4EE5\u518D\u6B21\u4F7F\u7528 git reset \u5C06 head \u66F4\u6539\u4E3A\u6B63\u786E\u7684 commit\u3002"}),"\n",(0,t.jsx)(n.h2,{id:"\u4EC5\u5C06-k-\u4E2A\u6700\u65B0-commit-\u5E94\u7528\u4E8E-main",children:"\u4EC5\u5C06 k \u4E2A\u6700\u65B0 commit \u5E94\u7528\u4E8E main"}),"\n",(0,t.jsx)(n.p,{children:"\u5F53\u6709\u5176\u4ED6 m \u4E2A commit \u5728 k \u4E2A\u6700\u65B0 commit \u4E4B\u524D\u5DF2\u7ECF merge \u65F6\uFF0C\u53EA\u5728 main \u4E0A\u5E94\u7528\u8FD9 k \u4E2A\u6700\u65B0 commit \u5F88\u6709\u7528\u3002\u76F4\u63A5\u5BF9 main \u8FDB\u884C rebase \u53EF\u80FD\u4F1A\u5BFC\u81F4\u8FD9 m \u4E2A commit \u7684 merge \u51B2\u7A81\uFF08\u53EF\u4EE5\u5B89\u5168\u5730\u4E22\u5F03\uFF09\u3002"}),"\n",(0,t.jsx)(n.p,{children:"\u53EF\u4EE5\u6539\u7528\u4EE5\u4E0B\u547D\u4EE4\uFF1A"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# k \u662F\u5B9E\u6570\n# \u5C06 HEAD~2 \u4F5C\u4E3A\u6700\u65B0\u4E00\u4E2A\u63D0\u4EA4\ngit rebase --onto upstream/main HEAD~k\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u7136\u540E\u53EF\u4EE5\u5F3A\u5236 push \u5230 main\u3002\u6CE8\u610F\uFF0C\u4E0A\u8FF0\u547D\u4EE4\u5C06\u4E22\u5F03\u6700\u540E k \u4E2A commit \u4E4B\u524D\u7684\u6240\u6709 commit\u3002"}),"\n",(0,t.jsx)(n.h2,{id:"\u5F3A\u5236-push-\u7684\u540E\u679C\u662F\u4EC0\u4E48",children:"\u5F3A\u5236 push \u7684\u540E\u679C\u662F\u4EC0\u4E48"}),"\n",(0,t.jsx)(n.p,{children:"\u524D\u4E24\u4E2A\u6280\u5DE7\u9700\u8981\u5F3A\u5236 push\uFF0C\u8FD9\u662F\u56E0\u4E3A\u6211\u4EEC\u6539\u53D8\u4E86 commit \u7684\u8DEF\u5F84\u3002\u5982\u679C\u66F4\u6539\u7684 commit \u4EC5\u5C5E\u4E8E\u4F60\u81EA\u5DF1\uFF0C\u5C31\u53EF\u4EE5\u5F3A\u5236 push \u5230\u4F60\u81EA\u5DF1\u7684\u5206\u652F\u3002"})]})}function m(e={}){let{wrapper:n}={...(0,c.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},21494:function(e,n,i){i.d(n,{Z:function(){return l},a:function(){return r}});var s=i(39546);let t={},c=s.createContext(t);function r(e){let n=s.useContext(c);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),s.createElement(c.Provider,{value:n},e.children)}}}]);