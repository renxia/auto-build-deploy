"use strict";(self.webpackChunktvm_cn=self.webpackChunktvm_cn||[]).push([["5880"],{10132:function(e,n,t){t.r(n),t.d(n,{default:()=>u,frontMatter:()=>r,metadata:()=>s,assets:()=>c,toc:()=>a,contentTitle:()=>i});var s=JSON.parse('{"id":"tutorial/ops_AutoTVM","title":"\u7528 Schedule \u6A21\u677F\u548C AutoTVM \u4F18\u5316\u7B97\u5B50","description":"\u6CE8\u610F\uFF1A\u5355\u51FB \u6B64\u5904 \u4E0B\u8F7D\u5B8C\u6574\u7684\u793A\u4F8B\u4EE3\u7801","source":"@site/docs/tutorial/07-ops_AutoTVM.md","sourceDirName":"tutorial","slug":"/tutorial/ops_AutoTVM","permalink":"/docs/tvm-cn/docs/tutorial/ops_AutoTVM","draft":false,"unlisted":false,"editUrl":"https://github.com/hyperai/tvm-cn/edit/master/docs/tutorial/07-ops_AutoTVM.md","tags":[],"version":"current","lastUpdatedBy":"sparanoid","lastUpdatedAt":1744717810000,"sidebarPosition":7,"frontMatter":{"title":"\u7528 Schedule \u6A21\u677F\u548C AutoTVM \u4F18\u5316\u7B97\u5B50"},"sidebar":"tutorialSidebar","previous":{"title":"\u4F7F\u7528\u5F20\u91CF\u8868\u8FBE\u5F0F\u5904\u7406\u7B97\u5B50","permalink":"/docs/tvm-cn/docs/tutorial/tensor_expr"},"next":{"title":"\u4F7F\u7528 Auto-scheduling \u4F18\u5316\u7B97\u5B50","permalink":"/docs/tvm-cn/docs/tutorial/ops_AutoScheduling"}}'),l=t("74132"),o=t("21494");let r={title:"\u7528 Schedule \u6A21\u677F\u548C AutoTVM \u4F18\u5316\u7B97\u5B50"},i="\u7528 Schedule \u6A21\u677F\u548C AutoTVM \u4F18\u5316\u7B97\u5B50",c={},a=[{value:"\u5B89\u88C5\u4F9D\u8D56",id:"\u5B89\u88C5\u4F9D\u8D56",level:2},{value:"TE \u7684\u57FA\u672C\u77E9\u9635\u4E58\u6CD5",id:"te-\u7684\u57FA\u672C\u77E9\u9635\u4E58\u6CD5",level:2},{value:"\u7528 AutoTVM \u8FDB\u884C\u77E9\u9635\u4E58\u6CD5",id:"\u7528-autotvm-\u8FDB\u884C\u77E9\u9635\u4E58\u6CD5",level:2},{value:"\u57FA\u672C\u77E9\u9635\u4E58\u6CD5\u6A21\u677F",id:"\u57FA\u672C\u77E9\u9635\u4E58\u6CD5\u6A21\u677F",level:2},{value:"\u5E26\u6709\u9AD8\u7EA7\u53C2\u6570 API \u7684\u77E9\u9635\u4E58\u6CD5\u6A21\u677F",id:"\u5E26\u6709\u9AD8\u7EA7\u53C2\u6570-api-\u7684\u77E9\u9635\u4E58\u6CD5\u6A21\u677F",level:2},{value:"\u7B2C 2 \u6B65\uFF1A\u4F7F\u7528 AutoTVM \u4F18\u5316\u77E9\u9635\u4E58\u6CD5",id:"\u7B2C-2-\u6B65\u4F7F\u7528-autotvm-\u4F18\u5316\u77E9\u9635\u4E58\u6CD5",level:2},{value:"TVM \u7684\u81EA\u52A8\u8C03\u4F18\u5668",id:"tvm-\u7684\u81EA\u52A8\u8C03\u4F18\u5668",level:3},{value:"\u5F00\u59CB\u8C03\u4F18",id:"\u5F00\u59CB\u8C03\u4F18",level:3},{value:"\u603B\u7ED3",id:"\u603B\u7ED3",level:2}];function d(e){let n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.a)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"\u7528-schedule-\u6A21\u677F\u548C-autotvm-\u4F18\u5316\u7B97\u5B50",children:"\u7528 Schedule \u6A21\u677F\u548C AutoTVM \u4F18\u5316\u7B97\u5B50"})}),"\n",(0,l.jsx)(n.admonition,{type:"note",children:(0,l.jsxs)(n.p,{children:["\u6CE8\u610F\uFF1A\u5355\u51FB ",(0,l.jsx)(n.a,{href:"https://tvm.apache.org/docs/tutorial/autotvm_matmul_x86.html#sphx-glr-download-tutorial-autotvm-matmul-x86-py",children:"\u6B64\u5904"})," \u4E0B\u8F7D\u5B8C\u6574\u7684\u793A\u4F8B\u4EE3\u7801"]})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u4F5C\u8005"}),"\uFF1A",(0,l.jsx)(n.a,{href:"https://github.com/merrymercy",children:"Lianmin Zheng"}),"\uFF0C",(0,l.jsx)(n.a,{href:"https://github.com/hogepodge",children:"Chris Hoge"})]}),"\n",(0,l.jsx)(n.p,{children:"\u672C\u6559\u7A0B\u5C06\u5C55\u793A\u5982\u4F55\u7528 TVM \u5F20\u91CF\u8868\u8FBE\u5F0F\uFF08TE\uFF09\u8BED\u8A00\u7F16\u5199 schedule \u6A21\u677F\uFF0C\u5E76\u901A\u8FC7 AutoTVM \u5BF9\u6A21\u677F\u8FDB\u884C\u641C\u7D22\uFF0C\u4ECE\u800C\u627E\u5230\u6700\u4F73 schedule\u3002\u8FD9\u4E2A\u81EA\u52A8\u4F18\u5316\u5F20\u91CF\u8BA1\u7B97\u7684\u8FC7\u7A0B\u88AB\u79F0\u4E3A Auto-Tuning\u3002"}),"\n",(0,l.jsxs)(n.p,{children:["\u672C\u6559\u7A0B\u57FA\u4E8E\u524D\u9762\u7684 ",(0,l.jsx)(n.a,{href:"https://tvm.apache.org/docs/tutorial/tensor_expr_get_started.html",children:"TE \u7F16\u5199\u77E9\u9635\u4E58\u6CD5\u6559\u7A0B"})," \u8BBE\u7ACB\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"auto-tuning \u5305\u62EC\u4E24\u4E2A\u6B65\u9AA4\uFF1A"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"\u7B2C\u4E00\u6B65\uFF1A\u5B9A\u4E49\u641C\u7D22\u7A7A\u95F4\u3002"}),"\n",(0,l.jsx)(n.li,{children:"\u7B2C\u4E8C\u6B65\uFF1A\u8FD0\u884C\u641C\u7D22\u7B97\u6CD5\u6765\u63A2\u7D22\u8FD9\u4E2A\u7A7A\u95F4\u3002"}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u901A\u8FC7\u672C\u6559\u7A0B\u53EF\u4EE5\u4E86\u89E3\u5982\u4F55\u5728 TVM \u4E2D\u6267\u884C\u8FD9\u4E24\u4E2A\u6B65\u9AA4\u3002\u6574\u4E2A\u5DE5\u4F5C\u6D41\u7A0B\u7531\u4E00\u4E2A\u77E9\u9635\u4E58\u6CD5\u793A\u4F8B\u6765\u8BF4\u660E\u3002"}),"\n",(0,l.jsx)(n.admonition,{type:"note",children:(0,l.jsxs)(n.p,{children:["\u6CE8\u610F\uFF0C\u672C\u6559\u7A0B\u4E0D\u4F1A\u5728 Windows \u6216\u6700\u65B0\u7248\u672C\u7684 macOS \u4E0A\u8FD0\u884C\u3002\u5982\u9700\u8FD0\u884C\uFF0C\u8BF7\u5C06\u672C\u6559\u7A0B\u7684\u4E3B\u4F53\u653E\u5728 ",(0,l.jsx)(n.code,{children:'if __name__ == "__main__":'})," \u4EE3\u7801\u5757\u4E2D\u3002"]})}),"\n",(0,l.jsx)(n.h2,{id:"\u5B89\u88C5\u4F9D\u8D56",children:"\u5B89\u88C5\u4F9D\u8D56"}),"\n",(0,l.jsx)(n.p,{children:"\u8981\u5728 TVM \u4E2D\u4F7F\u7528 autotvm \u5305\uFF0C\u9700\u5B89\u88C5\u4E00\u4E9B\u989D\u5916\u7684\u4F9D\u8D56\u3002"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"pip3 install --user psutil xgboost cloudpickle\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u4E3A\u4E86\u8BA9 TVM \u5728\u8C03\u4F18\u8FC7\u7A0B\u4E2D\u8FD0\u884C\u66F4\u5FEB\uFF0C\u5EFA\u8BAE\u4F7F\u7528 Cython \u4F5C\u4E3A TVM \u7684 FFI\u3002\u5728 TVM \u7684\u6839\u76EE\u5F55\u4E0B\uFF0C\u6267\u884C\uFF1A"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"pip3 install --user cython\nsudo make cython3\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u73B0\u5728\u6211\u4EEC\u4E00\u8D77\u6765\u770B\u5982\u4F55\u7528 Python \u4EE3\u7801\u5B9E\u73B0\u3002\u9996\u5148\u5BFC\u5165\u6240\u9700\u7684\u5305\uFF1A"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"import logging\nimport sys\n\nimport numpy as np\nimport tvm\nfrom tvm import te\nimport tvm.testing\n\n# \u6A21\u5757\u540D\u53EB `autotvm`\nfrom tvm import autotvm\n"})}),"\n",(0,l.jsx)(n.h2,{id:"te-\u7684\u57FA\u672C\u77E9\u9635\u4E58\u6CD5",children:"TE \u7684\u57FA\u672C\u77E9\u9635\u4E58\u6CD5"}),"\n",(0,l.jsx)(n.p,{children:"\u56DE\u60F3\u4E00\u4E0B\u7528 TE \u8FDB\u884C\u77E9\u9635\u4E58\u6CD5\u7684\u57FA\u672C\u5B9E\u73B0\uFF0C\u4E0B\u9762\u505A\u4E00\u4E9B\u6539\u53D8\u3002\u5C06\u77E9\u9635\u4E58\u6CD5\u653E\u5728 Python \u51FD\u6570\u5B9A\u4E49\u4E2D\u3002\u7B80\u5355\u8D77\u89C1\uFF0C\u91CD\u70B9\u5173\u6CE8\u62C6\u5206\u7684\u4F18\u5316\uFF0C\u5C06\u91CD\u65B0\u6392\u5E8F\u7684\u5757\u5927\u5C0F\u8BBE\u4E3A\u56FA\u5B9A\u503C\u3002"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'def matmul_basic(N, L, M, dtype):\n\n    A = te.placeholder((N, L), name="A", dtype=dtype)\n    B = te.placeholder((L, M), name="B", dtype=dtype)\n\n    k = te.reduce_axis((0, L), name="k")\n    C = te.compute((N, M), lambda i, j: te.sum(A[i, k] * B[k, j], axis=k), name="C")\n    s = te.create_schedule(C.op)\n\n    # \u8C03\u5EA6\n    y, x = s[C].op.axis\n    k = s[C].op.reduce_axis[0]\n\n    yo, yi = s[C].split(y, 8)\n    xo, xi = s[C].split(x, 8)\n\n    s[C].reorder(yo, xo, k, yi, xi)\n\n    return s, [A, B, C]\n'})}),"\n",(0,l.jsx)(n.h2,{id:"\u7528-autotvm-\u8FDB\u884C\u77E9\u9635\u4E58\u6CD5",children:"\u7528 AutoTVM \u8FDB\u884C\u77E9\u9635\u4E58\u6CD5"}),"\n",(0,l.jsx)(n.p,{children:"\u524D\u9762\u7684\u8C03\u5EA6\u4EE3\u7801\u7528\u5E38\u91CF\u201C8\u201D\u4F5C\u4E3A\u5FAA\u73AF\u5207\u5206\u56E0\u5B50\uFF0C\u4F46\u662F\u5B83\u53EF\u80FD\u4E0D\u662F\u6700\u4F73\u7684\u3002\u56E0\u4E3A\u6700\u4F73\u7684\u5FAA\u73AF\u5207\u5206\u56E0\u5B50\u53D6\u51B3\u4E8E\u771F\u5B9E\u7684\u786C\u4EF6\u73AF\u5883\u548C\u8F93\u5165 shape\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u5982\u679C\u5E0C\u671B\u8C03\u5EA6\u4EE3\u7801\u80FD\u591F\u5728\u66F4\u5E7F\u6CDB\u7684\u8F93\u5165 shape \u548C\u76EE\u6807\u786C\u4EF6\u4E0A\u53EF\u79FB\u690D\uFF0C\u6700\u597D\u5B9A\u4E49\u4E00\u7EC4\u5019\u9009\u503C\uFF0C\u5E76\u6839\u636E\u76EE\u6807\u786C\u4EF6\u4E0A\u7684\u8BC4\u4F30\u7ED3\u679C\u9009\u62E9\u6700\u4F73\u503C\u3002"}),"\n",(0,l.jsx)(n.p,{children:'autotvm \u4E2D\u53EF\u4EE5\u4E3A\u8FD9\u79CD\u503C\u5B9A\u4E49\u4E00\u4E2A\u53EF\u8C03\u53C2\u6570\uFF0C\u6216\u8005\u4E00\u4E2A "knob"\u3002'}),"\n",(0,l.jsx)(n.h2,{id:"\u57FA\u672C\u77E9\u9635\u4E58\u6CD5\u6A21\u677F",children:"\u57FA\u672C\u77E9\u9635\u4E58\u6CD5\u6A21\u677F"}),"\n",(0,l.jsxs)(n.p,{children:["\u4EE5\u4E0B\u793A\u4F8B\u5C06\u6F14\u793A\uFF0C\u5982\u4F55\u4E3A ",(0,l.jsx)(n.em,{children:"split"})," \u8C03\u5EA6\u64CD\u4F5C\u7684 block \u5927\u5C0F\u521B\u5EFA\u4E00\u4E2A\u53EF\u8C03\u7684\u53C2\u6570\u96C6\u3002"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'# Matmul V1: \u5217\u51FA\u5019\u9009\u503C\n@autotvm.template("tutorial/matmul_v1")  # 1. \u4F7F\u7528\u88C5\u9970\u5668\ndef matmul_v1(N, L, M, dtype):\n    A = te.placeholder((N, L), name="A", dtype=dtype)\n    B = te.placeholder((L, M), name="B", dtype=dtype)\n\n    k = te.reduce_axis((0, L), name="k")\n    C = te.compute((N, M), lambda i, j: te.sum(A[i, k] * B[k, j], axis=k), name="C")\n    s = te.create_schedule(C.op)\n\n    # \u8C03\u5EA6\n    y, x = s[C].op.axis\n    k = s[C].op.reduce_axis[0]\n\n    # 2. \u83B7\u53D6 config \u5BF9\u8C61\n    cfg = autotvm.get_config()\n\n    # 3. \u5B9A\u4E49\u641C\u7D22\u7A7A\u95F4\n    cfg.define_knob("tile_y", [1, 2, 4, 8, 16])\n    cfg.define_knob("tile_x", [1, 2, 4, 8, 16])\n\n    # 4. \u6839\u636E config \u8FDB\u884C\u8C03\u5EA6\n    yo, yi = s[C].split(y, cfg["tile_y"].val)\n    xo, xi = s[C].split(x, cfg["tile_x"].val)\n\n    s[C].reorder(yo, xo, k, yi, xi)\n\n    return s, [A, B, C]\n'})}),"\n",(0,l.jsx)(n.p,{children:"\u4E0B\u9762\u5C06\u5BF9\u524D\u9762\u7684\u8C03\u5EA6\u4EE3\u7801\u4F5C\u51FA\u56DB\u4E2A\u4FEE\u6539\uFF0C\u7136\u540E\u5F97\u5230\u4E00\u4E2A\u53EF\u8C03\u7684\u201C\u6A21\u677F\u201D\u3002\u4E00\u4E00\u89E3\u91CA\u8FD9\u4E9B\u4FEE\u6539\uFF1A"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u4F7F\u7528\u88C5\u9970\u5668\u5C06\u6B64\u51FD\u6570\u6807\u8BB0\u4E3A\u7B80\u5355\u6A21\u677F\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\u83B7\u53D6 config \u5BF9\u8C61\uFF1A\u5C06 ",(0,l.jsx)(n.code,{children:"cfg"})," \u89C6\u4E3A\u6B64\u51FD\u6570\u7684\u53C2\u6570\uFF0C\u4F46\u6211\u4EEC\u4EE5\u53E6\u5916\u7684\u65B9\u5F0F\u83B7\u53D6\u5B83\u3002cfg \u53C2\u6570\u4F7F\u5F97\u8FD9\u4E2A\u51FD\u6570\u4E0D\u518D\u662F\u4E00\u4E2A\u786E\u5B9A\u7684 schedule\u3002\u5C06\u4E0D\u540C\u7684\u914D\u7F6E\u4F20\u9012\u7ED9\u8FD9\u4E2A\u51FD\u6570\uFF0C\u53EF\u4EE5\u5F97\u5230\u4E0D\u540C\u7684 schedule\u3002\u8FD9\u79CD\u4F7F\u7528\u914D\u7F6E\u5BF9\u8C61\u7684\u51FD\u6570\u79F0\u4E3A\u201C\u6A21\u677F\u201D\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"\u4E3A\u4F7F\u6A21\u677F\u51FD\u6570\u66F4\u7CBE\u70BC\uFF0C\u53EF\u5728\u5355\u4E2A\u51FD\u6570\u4E2D\u5B9A\u4E49\u53C2\u6570\u641C\u7D22\u7A7A\u95F4\uFF1A"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\u7528\u4E00\u7EC4\u503C\u6765\u5B9A\u4E49\u641C\u7D22\u7A7A\u95F4\u3002\u5C06 ",(0,l.jsx)(n.code,{children:"cfg"})," \u8F6C\u4E3A ",(0,l.jsx)(n.code,{children:"ConfigSpace"})," \u5BF9\u8C61\uFF0C\u6536\u96C6\u6B64\u51FD\u6570\u4E2D\u7684\u6240\u6709\u53EF\u8C03 knob\uFF0C\u7136\u540E\u4ECE\u4E2D\u6784\u5EFA\u4E00\u4E2A\u641C\u7D22\u7A7A\u95F4\u3002"]}),"\n",(0,l.jsxs)(n.li,{children:["\u6839\u636E\u7A7A\u95F4\u4E2D\u7684\u5B9E\u4F53\u8FDB\u884C\u8C03\u5EA6\u3002\u5C06 ",(0,l.jsx)(n.code,{children:"cfg"})," \u8F6C\u4E3A ",(0,l.jsx)(n.code,{children:"ConfigEntity"})," \u5BF9\u8C61\uFF0C\u5F53\u5B83\u88AB\u8F6C\u4E3A ",(0,l.jsx)(n.code,{children:"ConfigEntity"})," \u540E\uFF0C\u4F1A\u5FFD\u7565\u6240\u6709\u7A7A\u95F4\u5B9A\u4E49 API\uFF08\u5373 ",(0,l.jsx)(n.code,{children:"cfg.define_XXXXX(...)"}),"\uFF09\uFF0C\u4F46\u4F1A\u5B58\u50A8\u6240\u6709\u53EF\u8C03 knob \u7684\u786E\u5B9A\u503C\uFF0C\u5E76\u6839\u636E\u8FD9\u4E9B\u503C\u8FDB\u884C\u8C03\u5EA6\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\u5728 auto-tuning \u7684\u8FC7\u7A0B\u4E2D\uFF0C\u9996\u5148\u7528 ",(0,l.jsx)(n.code,{children:"ConfigSpace"})," \u5BF9\u8C61\u8C03\u7528\u8FD9\u4E2A\u6A21\u677F\u6765\u6784\u5EFA\u641C\u7D22\u7A7A\u95F4\uFF0C\u7136\u540E\u5728\u6784\u5EFA\u7684\u7A7A\u95F4\u4E2D\u7528\u4E0D\u540C\u7684 ",(0,l.jsx)(n.code,{children:"ConfigEntity"})," \u8C03\u7528\u8FD9\u4E2A\u6A21\u677F\uFF0C\u6765\u5F97\u5230\u4E0D\u540C\u7684 schedule\u3002\u6700\u540E\uFF0C\u6211\u4EEC\u5C06\u8BC4\u4F30\u7531\u4E0D\u540C schedule \u751F\u6210\u7684\u4EE3\u7801\uFF0C\u7136\u540E\u9009\u62E9\u6700\u4F73\u7684 schedule\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\u5B9A\u4E49\u4E24\u4E2A\u53EF\u8C03 knob\u3002\u7B2C\u4E00\u4E2A\u662F ",(0,l.jsx)(n.code,{children:"tile_y"}),"\uFF0C\u5B83\u6709 5 \u4E2A\u53EF\u80FD\u503C\u3002\u7B2C\u4E8C\u4E2A\u662F ",(0,l.jsx)(n.code,{children:"tile_x"}),"\uFF0C\u5B83\u548C\u524D\u8005\u5177\u6709\u76F8\u540C\u7684\u53EF\u80FD\u503C\u3002\u8FD9\u4E24\u4E2A knob \u662F\u72EC\u7ACB\u7684\uFF0C\u6240\u4EE5\u5B83\u4EEC\u8DE8\u8D8A\u5927\u5C0F\u4E3A 25 = 5x5 \u7684\u641C\u7D22\u7A7A\u95F4\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\u914D\u7F6E knob \u88AB\u4F20\u9012\u7ED9 ",(0,l.jsx)(n.code,{children:"split"})," \u8C03\u5EA6\u64CD\u4F5C\uFF0C\u7136\u540E\u53EF\u4EE5\u6839\u636E\u4E4B\u524D\u5728 ",(0,l.jsx)(n.code,{children:"cfg"})," \u4E2D\u5B9A\u4E49\u7684 5x5 \u786E\u5B9A\u503C\u8FDB\u884C\u8C03\u5EA6\u3002"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"\u5E26\u6709\u9AD8\u7EA7\u53C2\u6570-api-\u7684\u77E9\u9635\u4E58\u6CD5\u6A21\u677F",children:"\u5E26\u6709\u9AD8\u7EA7\u53C2\u6570 API \u7684\u77E9\u9635\u4E58\u6CD5\u6A21\u677F"}),"\n",(0,l.jsx)(n.p,{children:"\u524D\u9762\u7684\u6A21\u677F\u624B\u52A8\u5217\u51FA\u4E86 konb \u7684\u6240\u6709\u53EF\u80FD\u503C\uFF0C\u5B83\u662F\u7528\u6765\u5B9A\u4E49\u7A7A\u95F4\u7684\u6700\u5E95\u5C42 API\uFF0C\u663E\u793A\u5217\u51FA\u4E86\u8981\u641C\u7D22\u7684\u53C2\u6570\u7A7A\u95F4\u3002\u8FD9\u91CC\u63A8\u8350\u4F7F\u7528\u53E6\u4E00\u7EC4\u66F4\u9AD8\u7EA7\u7684 API\uFF0C\u5B83\u53EF\u4EE5\u66F4\u7B80\u5355\u3001\u66F4\u667A\u80FD\u5730\u5B9A\u4E49\u641C\u7D22\u7A7A\u95F4\u3002"}),"\n",(0,l.jsxs)(n.p,{children:["\u4E0B\u9762\u7684\u793A\u4F8B\u7528 ",(0,l.jsx)(n.code,{children:"ConfigSpace.define_split"})," \u6765\u5B9A\u4E49\u62C6\u5206 knob\u3002\u5B83\u5217\u4E3E\u4E86\u6240\u6709\u53EF\u80FD\u7684\u62C6\u5206 axis \u548C\u6784\u9020\u7A7A\u95F4\u7684\u65B9\u6CD5\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u540C\u65F6\uFF0C",(0,l.jsx)(n.code,{children:"ConfigSpace.define_reorder"})," \u7528\u4E8E\u5BF9 knob \u91CD\u65B0\u6392\u5E8F\uFF0C",(0,l.jsx)(n.code,{children:"ConfigSpace.define_annotate"})," \u7528\u4E8E\u5BF9\u5C55\u5F00\u3001\u5411\u91CF\u5316\u3001\u7EBF\u7A0B\u7ED1\u5B9A\u7B49\u8FDB\u884C\u6CE8\u91CA \u3002\u5F53\u9AD8\u7EA7 API \u65E0\u6CD5\u6EE1\u8DB3\u4F60\u7684\u9700\u6C42\u65F6\uFF0C\u53EF\u4EE5\u56DE\u9000\u4F7F\u7528\u5E95\u5C42 API\u3002"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'@autotvm.template("tutorial/matmul")\ndef matmul(N, L, M, dtype):\n    A = te.placeholder((N, L), name="A", dtype=dtype)\n    B = te.placeholder((L, M), name="B", dtype=dtype)\n\n    k = te.reduce_axis((0, L), name="k")\n    C = te.compute((N, M), lambda i, j: te.sum(A[i, k] * B[k, j], axis=k), name="C")\n    s = te.create_schedule(C.op)\n\n    # \u8C03\u5EA6\n    y, x = s[C].op.axis\n    k = s[C].op.reduce_axis[0]\n\n    ##### \u5F00\u59CB\u5B9A\u4E49\u7A7A\u95F4 #####\n    cfg = autotvm.get_config()\n    cfg.define_split("tile_y", y, num_outputs=2)\n    cfg.define_split("tile_x", x, num_outputs=2)\n    ##### \u7ED3\u675F\u5B9A\u4E49\u7A7A\u95F4 #####\n\n    # \u6839\u636E config \u8FDB\u884C\u8C03\u5EA6\n    yo, yi = cfg["tile_y"].apply(s, C, y)\n    xo, xi = cfg["tile_x"].apply(s, C, x)\n\n    s[C].reorder(yo, xo, k, yi, xi)\n\n    return s, [A, B, C]\n'})}),"\n",(0,l.jsxs)(n.admonition,{type:"note",children:[(0,l.jsxs)(n.mdxAdmonitionTitle,{children:["\u5173\u4E8E ",(0,l.jsx)(n.code,{children:"cfg.define_split"})," \u7684\u66F4\u591A\u89E3\u91CA"]}),(0,l.jsxs)(n.p,{children:["\u5728\u6B64\u6A21\u677F\u4E2D\uFF0C",(0,l.jsx)(n.code,{children:'cfg.define_split("tile_y", y, num_outputs=2)'})," \u679A\u4E3E\u4E86\u6240\u6709\u53EF\u80FD\u7684\u7EC4\u5408\uFF08\u4EE5 y \u7684\u957F\u5EA6\u4E3A\u56E0\u5B50\uFF0C\u5C06 y \u8F74\u5206\u6210\u4E24\u4E2A\u8F74\uFF09\u3002\u4F8B\u5982\uFF0C\u5982\u679C y \u7684\u957F\u5EA6\u4E3A 32 \u5E76\u4E14\u60F3\u4EE5 32 \u4E3A\u56E0\u5B50\u5C06\u5B83\u62C6\u5206\u4E3A\u4E24\u4E2A\u8F74\uFF0C\u90A3\u4E48\uFF08\u5916\u8F74\u957F\u5EA6\uFF0C\u5185\u8F74\u957F\u5EA6\uFF09\u6709 6 \u4E2A\u53EF\u80FD\u7684\u503C\uFF0C\u5373 (32, 1)\uFF0C(16, 2)\uFF0C(8, 4)\uFF0C(4, 8)\uFF0C(2, 16) \u6216 (1, 32)\u3002\u8FD9\u4E9B\u4E5F\u662F ",(0,l.jsx)(n.em,{children:"tile_y"})," \u7684 6 \u4E2A\u53EF\u80FD\u503C\u3002"]}),(0,l.jsxs)(n.p,{children:["\u8C03\u5EA6\u8FC7\u7A0B\u4E2D\uFF0C",(0,l.jsx)(n.code,{children:'cfg["tile_y"]'})," \u662F\u4E00\u4E2A ",(0,l.jsx)(n.code,{children:"SplitEntity"})," \u5BF9\u8C61\u3002\u6211\u4EEC\u5C06\u5916\u8F74\u548C\u5185\u8F74\u7684\u957F\u5EA6\u5B58\u50A8\u5728 ",(0,l.jsx)(n.code,{children:"cfg['tile_y'].size"})," \uFF08\u6709\u4E24\u4E2A\u5143\u7D20\u7684\u5143\u7EC4\uFF09\u4E2D\u3002\u8FD9\u4E2A\u6A21\u677F\u4F7F\u7528 ",(0,l.jsx)(n.code,{children:"yo, yi = cfg['tile_y'].apply(s, C, y)"})," \u6765\u5E94\u7528\u5B83\u3002\u5176\u5B9E\u7B49\u4EF7\u4E8E ",(0,l.jsx)(n.code,{children:'yo, yi = s[C].split(y, cfg["tile_y"].size[1])'})," \u6216 ",(0,l.jsx)(n.code,{children:"yo, yi = s[C].split(y, nparts=cfg['tile_y\"].size[0])"}),"\u3002"]}),(0,l.jsx)(n.p,{children:"cfg.apply API \u7684\u4F18\u70B9\u662F\u5B83\u4F7F\u591A\u7EA7\u62C6\u5206\uFF08\u5373\u5F53 num_outputs >= 3 \u65F6\uFF09\u53D8\u5F97\u66F4\u52A0\u7B80\u5355\u3002"})]}),"\n",(0,l.jsx)(n.h2,{id:"\u7B2C-2-\u6B65\u4F7F\u7528-autotvm-\u4F18\u5316\u77E9\u9635\u4E58\u6CD5",children:"\u7B2C 2 \u6B65\uFF1A\u4F7F\u7528 AutoTVM \u4F18\u5316\u77E9\u9635\u4E58\u6CD5"}),"\n",(0,l.jsx)(n.p,{children:"\u7B2C 1 \u6B65\u7F16\u5199\u7684\u77E9\u9635\u4E58\u6CD5\u6A21\u677F\uFF0C\u53EF\u5BF9\u62C6\u5206\u7684 schedule \u4E2D\u7684\u5757\u5927\u5C0F\u8FDB\u884C\u53C2\u6570\u5316\u3002\u901A\u8FC7\u7B2C 1 \u6B65\uFF0C\u53EF\u4EE5\u5B9E\u73B0\u5BF9\u8FD9\u4E2A\u53C2\u6570\u7A7A\u95F4\u8FDB\u884C\u641C\u7D22\u3002\u4E0B\u4E00\u6B65\u662F\u9009\u62E9\u4E00\u4E2A\u8C03\u4F18\u5668\u6765\u6307\u5BFC\u5982\u4F55\u5BF9\u7A7A\u95F4\u8FDB\u884C\u63A2\u7D22\u3002"}),"\n",(0,l.jsx)(n.h3,{id:"tvm-\u7684\u81EA\u52A8\u8C03\u4F18\u5668",children:"TVM \u7684\u81EA\u52A8\u8C03\u4F18\u5668"}),"\n",(0,l.jsx)(n.p,{children:"\u8C03\u4F18\u5668\u7684\u4EFB\u52A1\u53EF\u7528\u4EE5\u4E0B\u4F2A\u4EE3\u7801\u6765\u63CF\u8FF0\uFF1A"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"ct = 0\nwhile ct < max_number_of_trials:\n    propose a batch of configs\n    measure this batch of configs on real hardware and get results\n    ct += batch_size\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u8C03\u4F18\u5668\u53EF\u91C7\u53D6\u4E0D\u540C\u7684\u7B56\u7565\u6765\u8BA1\u5212\u4E0B\u4E00\u6279\u914D\u7F6E\uFF0C\u5305\u62EC\uFF1A"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"tvm.autotvm.tuner.RandomTuner"})," \uFF1A\u4EE5\u968F\u673A\u987A\u5E8F\u679A\u4E3E\u7A7A\u95F4"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"tvm.autotvm.tuner.GridSearchTuner"})," \uFF1A\u4EE5\u7F51\u683C\u641C\u7D22\u987A\u5E8F\u679A\u4E3E\u7A7A\u95F4"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"tvm.autotvm.tuner.GATuner"})," \uFF1A\u4F7F\u7528\u9057\u4F20\u7B97\u6CD5\u641C\u7D22\u7A7A\u95F4"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"tvm.autotvm.tuner.XGBTuner"})," \uFF1A\u7528\u57FA\u4E8E\u6A21\u578B\u7684\u65B9\u6CD5\u8BAD\u7EC3\u4E00\u4E2A XGBoost \u6A21\u578B\uFF0C\u6765\u9884\u6D4B\u964D\u7EA7 IR \u7684\u901F\u5EA6\uFF0C\u5E76\u6839\u636E\u9884\u6D4B\u503C\u9009\u62E9\u4E0B\u4E00\u6279\u914D\u7F6E\u3002"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u53EF\u6839\u636E\u7A7A\u95F4\u5927\u5C0F\u3001\u65F6\u95F4\u9884\u7B97\u548C\u5176\u4ED6\u56E0\u7D20\u6765\u9009\u62E9\u8C03\u4F18\u5668\u3002\u4F8B\u5982\uFF0C\u5982\u679C\u4F60\u7684\u7A7A\u95F4\u975E\u5E38\u5C0F\uFF08\u5C0F\u4E8E 1000\uFF09\uFF0C\u5219\u7F51\u683C\u641C\u7D22\u8C03\u4F18\u5668\u6216\u968F\u673A\u8C03\u4F18\u5668\u5C31\u591F\u4E86\u3002\u5982\u679C\u4F60\u7684\u7A7A\u95F4\u5728 10^9 \u7EA7\u522B\uFF08CUDA GPU \u4E0A\u7684 conv2d \u7B97\u5B50\u7684\u7A7A\u95F4\u5927\u5C0F\uFF09\uFF0CXGBoostTuner \u53EF\u4EE5\u66F4\u6709\u6548\u5730\u63A2\u7D22\u5E76\u627E\u5230\u66F4\u597D\u7684\u914D\u7F6E\u3002"}),"\n",(0,l.jsx)(n.h3,{id:"\u5F00\u59CB\u8C03\u4F18",children:"\u5F00\u59CB\u8C03\u4F18"}),"\n",(0,l.jsx)(n.p,{children:"\u4E0B\u9762\u7EE7\u7EED\u77E9\u9635\u4E58\u6CD5\u7684\u793A\u4F8B\u3002\u9996\u5148\u521B\u5EFA\u4E00\u4E2A\u8C03\u4F18\u4EFB\u52A1\uFF0C\u7136\u540E\u68C0\u67E5\u521D\u59CB\u7684\u641C\u7D22\u7A7A\u95F4\u3002\u4E0B\u9762\u793A\u4F8B\u4E2D\u662F 512x512 \u7684\u77E9\u9635\u4E58\u6CD5\uFF0C\u7A7A\u95F4\u5927\u5C0F\u4E3A 10x10=100\u3002\u6CE8\u610F\uFF0C\u4EFB\u52A1\u548C\u641C\u7D22\u7A7A\u95F4\u4E0E\u9009\u62E9\u7684\u8C03\u4F18\u5668\u65E0\u5173\u3002"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'N, L, M = 512, 512, 512\ntask = autotvm.task.create("tutorial/matmul", args=(N, L, M, "float32"), target="llvm")\nprint(task.config_space)\n'})}),"\n",(0,l.jsx)(n.p,{children:"\u8F93\u51FA\u7ED3\u679C\uFF1A"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"ConfigSpace (len=100, space_map=\n   0 tile_y: Split(policy=factors, product=512, num_outputs=2) len=10\n   1 tile_x: Split(policy=factors, product=512, num_outputs=2) len=10\n)\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u7136\u540E\u5B9A\u4E49\u5982\u4F55\u8BC4\u4F30\u751F\u6210\u7684\u4EE3\u7801\uFF0C\u5E76\u4E14\u9009\u62E9\u4E00\u4E2A\u8C03\u4F18\u5668\u3002\u7531\u4E8E\u6211\u4EEC\u7684\u7A7A\u95F4\u5F88\u5C0F\uFF0C\u6240\u4EE5\u968F\u673A\u8C03\u4F18\u5668\u5C31\u53EF\u4EE5\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u672C\u6559\u7A0B\u53EA\u505A 10 \u6B21\u8BD5\u9A8C\u8FDB\u884C\u6F14\u793A\u3002\u5B9E\u9645\u4E0A\u53EF\u4EE5\u6839\u636E\u81EA\u5DF1\u7684\u65F6\u95F4\u9884\u7B97\u8FDB\u884C\u66F4\u591A\u8BD5\u9A8C\u3002\u8C03\u4F18\u7ED3\u679C\u4F1A\u8BB0\u5F55\u5230\u65E5\u5FD7\u6587\u4EF6\u4E2D\u3002\u8FD9\u4E2A\u6587\u4EF6\u53EF\u7528\u4E8E\u9009\u62E9\u4E4B\u540E\u53D1\u73B0\u7684\u8C03\u4F18\u5668\u7684\u6700\u4F73\u914D\u7F6E\u3002"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'# \u8BB0\u5F55 config\uFF08\u4E3A\u4E86\u5C06 tuning \u65E5\u5FD7\u6253\u5370\u5230\u5C4F\u5E55\uFF09\nlogging.getLogger("autotvm").setLevel(logging.DEBUG)\nlogging.getLogger("autotvm").addHandler(logging.StreamHandler(sys.stdout))\n'})}),"\n",(0,l.jsx)(n.p,{children:"\u8BC4\u4F30\u914D\u7F6E\u6709\u4E24\u4E2A\u6B65\u9AA4\uFF1A\u6784\u5EFA\u548C\u8FD0\u884C\u3002\u9ED8\u8BA4\u7528\u6240\u6709 CPU core \u6765\u7F16\u8BD1\u7A0B\u5E8F\u3002\u7136\u540E\u4F9D\u6B21\u8FDB\u884C\u8BC4\u4F30\u3002\u4E3A\u4E86\u51CF\u5C11\u65B9\u5DEE\uFF0C\u5BF9 5 \u6B21\u8BC4\u4F30\u7ED3\u679C\u53D6\u5E73\u5747\u503C\u3002"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'measure_option = autotvm.measure_option(builder="local", runner=autotvm.LocalRunner(number=5))\n\n# \u7528 RandomTuner \u5F00\u59CB\u8C03\u4F18, \u65E5\u5FD7\u8BB0\u5F55\u5230 `matmul.log` \u6587\u4EF6\u4E2D\n# \u53EF\u7528 XGBTuner \u6765\u66FF\u4EE3.\ntuner = autotvm.tuner.RandomTuner(task)\ntuner.tune(\n    n_trial=10,\n    measure_option=measure_option,\n    callbacks=[autotvm.callback.log_to_file("matmul.log")],\n)\n'})}),"\n",(0,l.jsx)(n.p,{children:"\u8F93\u51FA\u7ED3\u679C\uFF1A"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"waiting for device...\ndevice available\nGet devices for measurement successfully!\nNo: 1   GFLOPS: 8.48/8.48       result: MeasureResult(costs=(0.0316434228,), error_no=MeasureErrorNo.NO_ERROR, all_cost=0.638512134552002, timestamp=1657225928.6342561)        [('tile_y', [-1, 1]), ('tile_x', [-1, 256])],None,80\nNo: 2   GFLOPS: 2.30/8.48       result: MeasureResult(costs=(0.1165478966,), error_no=MeasureErrorNo.NO_ERROR, all_cost=2.0105199813842773, timestamp=1657225930.6636436)       [('tile_y', [-1, 4]), ('tile_x', [-1, 8])],None,32\nNo: 3   GFLOPS: 11.82/11.82     result: MeasureResult(costs=(0.0227097348,), error_no=MeasureErrorNo.NO_ERROR, all_cost=0.5589795112609863, timestamp=1657225931.7059512)       [('tile_y', [-1, 64]), ('tile_x', [-1, 32])],None,56\nNo: 4   GFLOPS: 1.66/11.82      result: MeasureResult(costs=(0.1616202114,), error_no=MeasureErrorNo.NO_ERROR, all_cost=2.6911513805389404, timestamp=1657225934.9635096)       [('tile_y', [-1, 1]), ('tile_x', [-1, 4])],None,20\nNo: 5   GFLOPS: 3.65/11.82      result: MeasureResult(costs=(0.073561817,), error_no=MeasureErrorNo.NO_ERROR, all_cost=1.3051848411560059, timestamp=1657225936.3988533)        [('tile_y', [-1, 256]), ('tile_x', [-1, 16])],None,48\nNo: 6   GFLOPS: 1.85/11.82      result: MeasureResult(costs=(0.1452834464,), error_no=MeasureErrorNo.NO_ERROR, all_cost=2.5179028511047363, timestamp=1657225938.961955)        [('tile_y', [-1, 512]), ('tile_x', [-1, 4])],None,29\nNo: 7   GFLOPS: 0.87/11.82      result: MeasureResult(costs=(0.30933780240000003,), error_no=MeasureErrorNo.NO_ERROR, all_cost=5.067087888717651, timestamp=1657225944.589149)  [('tile_y', [-1, 512]), ('tile_x', [-1, 2])],None,19\nNo: 8   GFLOPS: 10.53/11.82     result: MeasureResult(costs=(0.025489421,), error_no=MeasureErrorNo.NO_ERROR, all_cost=0.5452830791473389, timestamp=1657225945.1592515)        [('tile_y', [-1, 4]), ('tile_x', [-1, 64])],None,62\nNo: 9   GFLOPS: 1.58/11.82      result: MeasureResult(costs=(0.16960762680000002,), error_no=MeasureErrorNo.NO_ERROR, all_cost=2.8109781742095947, timestamp=1657225948.0900776)        [('tile_y', [-1, 2]), ('tile_x', [-1, 2])],None,11\nNo: 10  GFLOPS: 2.42/11.82      result: MeasureResult(costs=(0.11083148779999999,), error_no=MeasureErrorNo.NO_ERROR, all_cost=1.8757600784301758, timestamp=1657225950.0266354)        [('tile_y', [-1, 4]), ('tile_x', [-1, 4])],None,22\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u8C03\u4F18\u5B8C\u6210\u540E\uFF0C\u53EF\u4ECE\u65E5\u5FD7\u6587\u4EF6\u4E2D\u9009\u62E9\u5177\u6709\u6700\u4F73\u8BC4\u4F30\u6027\u80FD\u7684\u914D\u7F6E\uFF0C\u5E76\u7528\u76F8\u5E94\u53C2\u6570\u6765\u7F16\u8BD1 schedule\u3002\u5FEB\u901F\u9A8C\u8BC1 schedule \u662F\u5426\u4EA7\u751F\u4E86\u6B63\u786E\u7684\u7ED3\u679C\uFF0C\u53EF\u76F4\u63A5\u5728 ",(0,l.jsx)(n.code,{children:"autotvm.apply_history_best"})," \u4E0A\u4E0B\u6587\u4E2D\u8C03\u7528 ",(0,l.jsx)(n.code,{children:"matmul"})," \u51FD\u6570\uFF0C\u5B83\u4F1A\u7528\u53C2\u6570\u67E5\u8BE2\u8C03\u5EA6\u4E0A\u4E0B\u6587\uFF0C\u7136\u540E\u53EF\u7528\u76F8\u540C\u7684\u53C2\u6570\u83B7\u53D6\u6700\u4F18\u914D\u7F6E\u3002"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'# \u4ECE\u65E5\u5FD7\u6587\u4EF6\u4E2D\u5E94\u7528\u5386\u53F2\u6700\u4F73\nwith autotvm.apply_history_best("matmul.log"):\n    with tvm.target.Target("llvm"):\n        s, arg_bufs = matmul(N, L, M, "float32")\n        func = tvm.build(s, arg_bufs)\n\n# \u9A8C\u8BC1\u6B63\u786E\u6027\na_np = np.random.uniform(size=(N, L)).astype(np.float32)\nb_np = np.random.uniform(size=(L, M)).astype(np.float32)\nc_np = a_np.dot(b_np)\n\nc_tvm = tvm.nd.empty(c_np.shape)\nfunc(tvm.nd.array(a_np), tvm.nd.array(b_np), c_tvm)\n\ntvm.testing.assert_allclose(c_np, c_tvm.numpy(), rtol=1e-4)\n'})}),"\n",(0,l.jsx)(n.p,{children:"\u8F93\u51FA\u7ED3\u679C\uFF1A"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-plain",children:"Finish loading 10 records\n"})}),"\n",(0,l.jsx)(n.h2,{id:"\u603B\u7ED3",children:"\u603B\u7ED3"}),"\n",(0,l.jsxs)(n.p,{children:["\u672C\u6559\u7A0B\u5C55\u793A\u4E86\u5982\u4F55\u6784\u5EFA\u7B97\u5B50\u6A21\u677F\uFF0C\u4F7F\u5F97 TVM \u80FD\u591F\u641C\u7D22\u53C2\u6570\u7A7A\u95F4\uFF0C\u5E76\u9009\u62E9\u4F18\u5316\u7684\u8C03\u5EA6\u914D\u7F6E\u3002\u4E3A\u4E86\u66F4\u6DF1\u5165\u5730\u4E86\u89E3\u5176\u5DE5\u4F5C\u539F\u7406\uFF0C\u63A8\u8350\u57FA\u4E8E ",(0,l.jsxs)(n.em,{children:["\u5F20\u91CF\u8868\u8FBE\u5F0F\u5165\u95E8 ",(0,l.jsx)(n.code,{children:"<tensor_expr_get_started>"})]})," \u6559\u7A0B\u4E2D\u6F14\u793A\u7684\u8C03\u5EA6\u64CD\u4F5C\uFF0C\u5411\u8C03\u5EA6\u6DFB\u52A0\u65B0\u7684\u641C\u7D22\u53C2\u6570\u3002\u63A5\u4E0B\u6765\u7684\u7AE0\u8282\u5C06\u6F14\u793A AutoScheduler\uFF0C\u5B83\u662FTVM \u4E2D\u4E00\u79CD\u4F18\u5316\u5E38\u7528\u7B97\u5B50\u7684\u65B9\u6CD5\uFF0C\u540C\u65F6\u65E0\u9700\u7528\u6237\u63D0\u4F9B\u81EA\u5B9A\u4E49\u7684\u6A21\u677F\u3002"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.a,{href:"https://tvm.apache.org/docs/_downloads/8e7bbc9dbdda76ac573b24606b41c006/autotvm_matmul_x86.py",children:"\u4E0B\u8F7D Python \u6E90\u4EE3\u7801\uFF1Aautotvm_matmul_x86.py"})}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.a,{href:"https://tvm.apache.org/docs/_downloads/37bbf9e2065ec8deeb64a8d9fa0755bc/autotvm_matmul_x86.ipynb",children:"\u4E0B\u8F7D Jupyter Notebook\uFF1Aautotvm_matmul_x86.ipynb"})})]})}function u(e={}){let{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},21494:function(e,n,t){t.d(n,{Z:function(){return i},a:function(){return r}});var s=t(39546);let l={},o=s.createContext(l);function r(e){let n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);