"use strict";(self.webpackChunktvm_cn=self.webpackChunktvm_cn||[]).push([["27350"],{26717:function(e,n,i){i.r(n),i.d(n,{default:()=>o,frontMatter:()=>r,metadata:()=>t,assets:()=>c,toc:()=>a,contentTitle:()=>d});var t=JSON.parse('{"id":"how_to/deploy/vitis_ai","title":"Vitis AI \u96C6\u6210","description":"Vitis AI \u662F\u7528\u5728 Xilinx \u5E73\u53F0\uFF08\u5305\u62EC\u8FB9\u7F18\u8BBE\u5907\u548C Alveo \u5361\uFF09\u4E0A\u8FDB\u884C\u786C\u4EF6\u52A0\u901F AI \u63A8\u7406\u7684 Xilinx \u5F00\u53D1\u5806\u6808\u3002\u5B83\u7531\u4F18\u5316\u7684 IP\u3001\u5DE5\u5177\u3001\u5E93\u3001\u6A21\u578B\u548C\u793A\u4F8B\u8BBE\u8BA1\u7EC4\u6210\u3002\u5728\u8BBE\u8BA1\u65F6\u517C\u987E\u9AD8\u6548\u7387\u548C\u6613\u7528\u6027\uFF0C\u5145\u5206\u53D1\u6325\u4E86 Xilinx FPGA \u548C ACAP \u4E0A AI \u52A0\u901F\u7684\u6F5C\u529B\u3002","source":"@site/versioned_docs/version-0.12.0/how_to/deploy/07-vitis_ai.md","sourceDirName":"how_to/deploy","slug":"/how_to/deploy/vitis_ai","permalink":"/docs/tvm-cn/docs/0.12.0/how_to/deploy/vitis_ai","draft":false,"unlisted":false,"editUrl":"https://github.com/hyperai/tvm-cn/edit/master/versioned_docs/version-0.12.0/how_to/deploy/07-vitis_ai.md","tags":[],"version":"0.12.0","lastUpdatedBy":"sparanoid","lastUpdatedAt":1744717810000,"sidebarPosition":7,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Relay TensorRT \u96C6\u6210","permalink":"/docs/tvm-cn/docs/0.12.0/how_to/deploy/relay_tensorrt"},"next":{"title":"Relay BNNS \u96C6\u6210","permalink":"/docs/tvm-cn/docs/0.12.0/how_to/deploy/relay_bnns"}}'),l=i("74132"),s=i("21494");let r={},d="Vitis AI \u96C6\u6210",c={},a=[{value:"\u7CFB\u7EDF\u8981\u6C42",id:"\u7CFB\u7EDF\u8981\u6C42",level:2},{value:"\u8BBE\u7F6E\u8BF4\u660E",id:"\u8BBE\u7F6E\u8BF4\u660E",level:2},{value:"Alveo \u8BBE\u7F6E",id:"alveo-\u8BBE\u7F6E",level:3},{value:"Versal VCK5000 \u8BBE\u7F6E",id:"versal-vck5000-\u8BBE\u7F6E",level:3},{value:"Zynq \u8BBE\u7F6E",id:"zynq-\u8BBE\u7F6E",level:3},{value:"Versal VCK190 \u8BBE\u7F6E",id:"versal-vck190-\u8BBE\u7F6E",level:3},{value:"\u7F16\u8BD1\u6A21\u578B",id:"\u7F16\u8BD1\u6A21\u578B",level:2},{value:"\u5BFC\u5165",id:"\u5BFC\u5165",level:3},{value:"\u58F0\u660E Target",id:"\u58F0\u660E-target",level:3},{value:"\u5BFC\u5165\u6A21\u578B",id:"\u5BFC\u5165\u6A21\u578B",level:3},{value:"\u5BF9\u6A21\u578B\u5206\u533A",id:"\u5BF9\u6A21\u578B\u5206\u533A",level:3},{value:"\u6784\u5EFA\u6A21\u578B",id:"\u6784\u5EFA\u6A21\u578B",level:3},{value:"\u91CF\u5316\u6A21\u578B",id:"\u91CF\u5316\u6A21\u578B",level:3},{value:"\u63A8\u7406",id:"\u63A8\u7406",level:2},{value:"\u5728 Alveo \u548C VCK5000 \u4E0A\u8FD0\u884C",id:"\u5728-alveo-\u548C-vck5000-\u4E0A\u8FD0\u884C",level:3},{value:"\u5728 Zynq \u548C VCK190 \u4E0A\u8FD0\u884C",id:"\u5728-zynq-\u548C-vck190-\u4E0A\u8FD0\u884C",level:3}];function h(e){let n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.a)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"vitis-ai-\u96C6\u6210",children:"Vitis AI \u96C6\u6210"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.a,{href:"https://github.com/Xilinx/Vitis-AI",children:"Vitis AI"})," \u662F\u7528\u5728 Xilinx \u5E73\u53F0\uFF08\u5305\u62EC\u8FB9\u7F18\u8BBE\u5907\u548C Alveo \u5361\uFF09\u4E0A\u8FDB\u884C\u786C\u4EF6\u52A0\u901F AI \u63A8\u7406\u7684 Xilinx \u5F00\u53D1\u5806\u6808\u3002\u5B83\u7531\u4F18\u5316\u7684 IP\u3001\u5DE5\u5177\u3001\u5E93\u3001\u6A21\u578B\u548C\u793A\u4F8B\u8BBE\u8BA1\u7EC4\u6210\u3002\u5728\u8BBE\u8BA1\u65F6\u517C\u987E\u9AD8\u6548\u7387\u548C\u6613\u7528\u6027\uFF0C\u5145\u5206\u53D1\u6325\u4E86 Xilinx FPGA \u548C ACAP \u4E0A AI \u52A0\u901F\u7684\u6F5C\u529B\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["TVM \u4E2D\u5F53\u524D\u7684 Vitis AI \u6D41\u652F\u6301\u4F7F\u7528 ",(0,l.jsx)(n.a,{href:"https://www.xilinx.com/products/silicon-devices/soc/zynq-ultrascale-mpsoc.html",children:"Zynq Ultrascale+ MPSoc"}),", ",(0,l.jsx)(n.a,{href:"https://www.xilinx.com/products/boards-and-kits/alveo.html",children:"Alveo"})," \u548C ",(0,l.jsx)(n.a,{href:"https://www.xilinx.com/products/silicon-devices/acap/versal.html",children:"Versal"})," \u5E73\u53F0\u5728\u8FB9\u7F18\u548C\u4E91\u7AEF\u52A0\u901F\u795E\u7ECF\u7F51\u7EDC\u6A21\u578B\u63A8\u7406\u3002\u652F\u6301\u7684\u8FB9\u7F18\u548C\u4E91\u6DF1\u5EA6\u5B66\u4E60\u5904\u7406\u5668\u5355\u5143\uFF08DPU\uFF09\u7684\u6807\u8BC6\u7B26\u662F\uFF1A"]}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{style:{textAlign:"left"},children:(0,l.jsx)(n.strong,{children:"Target Board"})}),(0,l.jsx)(n.th,{style:{textAlign:"left"},children:(0,l.jsx)(n.strong,{children:"DPU ID"})}),(0,l.jsx)(n.th,{style:{textAlign:"left"},children:(0,l.jsx)(n.strong,{children:"TVM Target ID"})})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.a,{href:"https://www.xilinx.com/products/boards-and-kits/zcu104.html",children:"ZCU104"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"DPUCZDX8G"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"DPUCZDX8G-zcu104"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.a,{href:"https://www.xilinx.com/products/boards-and-kits/ek-u1-zcu102-g.html",children:"ZCU102"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"DPUCZDX8G"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"DPUCZDX8G-zcu102"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.a,{href:"https://www.xilinx.com/products/som/kria/kv260-vision-starter-kit.html",children:"Kria KV260"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"DPUCZDX8G"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"DPUCZDX8G-kv260"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.a,{href:"https://www.xilinx.com/products/boards-and-kits/vck190.html",children:"VCK190"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"DPUCVDX8G"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"DPUCVDX8G"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.a,{href:"https://www.xilinx.com/products/boards-and-kits/vck5000.html",children:"VCK5000"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"DPUCVDX8H"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"DPUCVDX8H"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.a,{href:"https://www.xilinx.com/products/boards-and-kits/alveo/u200.html",children:"U200"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"DPUCADF8H"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"DPUCADF8H"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.a,{href:"https://www.xilinx.com/products/boards-and-kits/alveo/u250.html",children:"U250"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"DPUCADF8H"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"DPUCADF8H"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.a,{href:"https://www.xilinx.com/products/boards-and-kits/alveo/u50.html",children:"U50"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"DPUCAHX8H / DPUCAHX8L"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"DPUCAHX8H-u50 / DPUCAHX8L"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.a,{href:"https://www.xilinx.com/products/boards-and-kits/alveo/u280.html",children:"U280"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"DPUCAHX8H / DPUCAHX8L"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"DPUCAHX8H-u280 / DPUCAHX8L"})]})]})]}),"\n",(0,l.jsx)(n.p,{children:"\u6709\u5173 DPU \u6807\u8BC6\u7B26\u7684\u66F4\u591A\u4FE1\u606F\uFF0C\u53C2\u89C1\u4E0B\u8868\uFF1A"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{style:{textAlign:"left"},children:(0,l.jsx)(n.strong,{children:"DPU"})}),(0,l.jsx)(n.th,{style:{textAlign:"left"},children:(0,l.jsx)(n.strong,{children:"Application"})}),(0,l.jsx)(n.th,{style:{textAlign:"left"},children:(0,l.jsx)(n.strong,{children:"HW Platform"})}),(0,l.jsx)(n.th,{style:{textAlign:"left"},children:(0,l.jsx)(n.strong,{children:"Quantization Method"})}),(0,l.jsx)(n.th,{style:{textAlign:"left"},children:(0,l.jsx)(n.strong,{children:"Quantization Bitwidth"})}),(0,l.jsx)(n.th,{style:{textAlign:"left"},children:(0,l.jsx)(n.strong,{children:"Design Target"})})]})}),(0,l.jsx)(n.tbody,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Deep LearningProcessing Unit"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"C: CNNR: RNN"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"AD: Alveo DDRAH: Alveo HBMVD: Versal DDR with AIE & PLZD: Zynq DDR"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"X: DECENTI: Integer thresholdF: Float thresholdR: RNN"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"4: 4-bit8: 8-bit16: 16-bitM: Mixed Precision"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"G: General purposeH: High throughputL: Low latencyC: Cost optimized"})]})})]}),"\n",(0,l.jsxs)(n.p,{children:["\u6B64\u6559\u7A0B\u4ECB\u7ECD\u6709\u5173\u5982\u4F55\u5728\u4E0D\u540C\u5E73\u53F0\uFF08Zynq\u3001Alveo\u3001Versal\uFF09\u4E0A\u4F7F\u7528 Vitis AI ",(0,l.jsx)(n.a,{href:"#setup",children:"\u8BBE\u7F6E"})," TVM \u4EE5\u53CA\u5982\u4F55\u5F00\u59CB ",(0,l.jsx)(n.a,{href:"#compile",children:"\u7F16\u8BD1\u6A21\u578B"})," \u5E76\u5728\u4E0D\u540C\u5E73\u53F0\u4E0A\u6267\u884C\uFF1A",(0,l.jsx)(n.a,{href:"#inference",children:"\u63A8\u7406"}),"\u3002"]}),"\n",(0,l.jsx)(n.h2,{id:"\u7CFB\u7EDF\u8981\u6C42",children:"\u7CFB\u7EDF\u8981\u6C42"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.a,{href:"https://github.com/Xilinx/Vitis-AI/blob/master/docs/learn/system_requirements.md",children:"Vitis AI \u7CFB\u7EDF\u8981\u6C42\u9875\u9762"})," \u5217\u51FA\u4E86\u8FD0\u884C Docker \u5BB9\u5668\u4EE5\u53CA\u5728 Alveo \u5361\u4E0A\u6267\u884C\u7684\u7CFB\u7EDF\u8981\u6C42\u3002\u5BF9\u4E8E\u8FB9\u7F18\u8BBE\u5907\uFF08\u4F8B\u5982 Zynq\uFF09\uFF0C\u90E8\u7F72\u6A21\u578B\u9700\u8981\u4F7F\u7528\u5E26\u6709 Vitis AI \u6D41\u7A0B\u7684 TVM \u7F16\u8BD1\u6A21\u578B\u7684\u4E3B\u673A\uFF0C\u4EE5\u53CA\u7528\u4E8E\u8FD0\u884C\u7F16\u8BD1\u6A21\u578B\u7684\u8FB9\u7F18\u8BBE\u5907\u3002\u4E3B\u673A\u7CFB\u7EDF\u8981\u6C42\u4E0E\u4E0A\u9762\u94FE\u63A5\u4E2D\u6307\u5B9A\u7684\u76F8\u540C\u3002"]}),"\n",(0,l.jsx)(n.h2,{id:"\u8BBE\u7F6E\u8BF4\u660E",children:"\u8BBE\u7F6E\u8BF4\u660E"}),"\n",(0,l.jsx)(n.p,{children:"\u672C\u8282\u4ECB\u7ECD\u5982\u4F55\u7528 Vitis AI \u6D41\u4E3A\u4E91\u548C\u8FB9\u7F18\u8BBE\u7F6E TVM\u3002\u652F\u6301 Vitis AI \u7684 TVM \u662F\u901A\u8FC7 Docker \u5BB9\u5668\u63D0\u4F9B\u7684\u3002\u63D0\u4F9B\u7684\u811A\u672C\u548C Dockerfile \u5C06 TVM \u548C Vitis AI \u7F16\u8BD1\u4E3A\u5355\u4E2A\u955C\u50CF\u3002"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u514B\u9686 TVM \u4ED3\u5E93"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"   git clone --recursive https://github.com/apache/tvm.git\n   cd tvm\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u6784\u5EFA\u5E76\u542F\u52A8 TVM - Vitis AI Docker \u5BB9\u5668\u3002"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"   ./docker/build.sh demo_vitis_ai bash\n   ./docker/bash.sh tvm.demo_vitis_ai\n\n   # Setup inside container\n   conda activate vitis-ai-tensorflow\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u7528 Vitis AI\uFF08\u5728 TVM \u76EE\u5F55\u5185\uFF09\u5728\u5BB9\u5668\u5185\u6784\u5EFA TVM"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"   mkdir build\n   cp cmake/config.cmake build\n   cd build\n   echo set(USE_LLVM ON) >> config.cmake\n   echo set(USE_VITIS_AI ON) >> config.cmake\n   cmake ..\n   make -j$(nproc)\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u5B89\u88C5 TVM"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"   cd ../python\n   pip3 install -e . --user\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\u5728\u8FD9\u4E2A Docker \u5BB9\u5668\u4E2D\u53EF\u4EE5\u4E3A\u4E91\u548C\u8FB9\u7F18\u76EE\u6807\u7F16\u8BD1\u6A21\u578B\u3002\u8981\u5728 docker \u5BB9\u5668\u5185\u7684\u4E91 Alveo \u6216 Versal VCK5000 \u5361\u4E0A\u8FD0\u884C\uFF0C\u6309\u7167 ",(0,l.jsx)(n.a,{href:"#alveo-setup",children:"Alveo"})," \u6216\u8005 ",(0,l.jsx)(n.a,{href:"#versal-vck5000-setup",children:"Versal VCK5000"})," \u8BBE\u7F6E\u8BF4\u660E\u8FDB\u884C\u64CD\u4F5C\u3002\u5206\u522B\u53C2\u7167 ",(0,l.jsx)(n.a,{href:"#zynq-setup",children:"Zynq"})," \u548C ",(0,l.jsx)(n.a,{href:"#versal-vck190-setup",children:"Versal VCK190"}),"\uFF0C\u4E3A\u63A8\u7406\u8FC7\u7A0B\u8BBE\u7F6E Zynq \u6216 Versal VCK190 \u8BC4\u4F30\u5355\u677F\u3002"]}),"\n",(0,l.jsx)(n.h3,{id:"alveo-\u8BBE\u7F6E",children:"Alveo \u8BBE\u7F6E"}),"\n",(0,l.jsxs)(n.p,{children:["\u67E5\u770B ",(0,l.jsx)(n.a,{href:"https://github.com/Xilinx/Vitis-AI/blob/v1.4/setup/alveo/README.md",children:"Alveo \u8BBE\u7F6E"})," \u83B7\u53D6\u8BBE\u7F6E\u4FE1\u606F\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"\u8BBE\u7F6E\u540E\uFF0C\u901A\u8FC7\u4EE5\u4E0B\u65B9\u5F0F\u5728 Docker \u5BB9\u5668\u5185\u9009\u62E9\u6B63\u786E\u7684 DPU\uFF1A"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"cd /workspace\ngit clone --branch v1.4 --single-branch --recursive https://github.com/Xilinx/Vitis-AI.git\ncd Vitis-AI/setup/alveo\nsource setup.sh [DPU-IDENTIFIER]\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u53EF\u5728\u6B64\u9875\u9762\u9876\u90E8\u7684 DPU Targets \u8868\u7684\u7B2C\u4E8C\u5217\u4E2D\u627E\u5230\u6B64 DPU \u6807\u8BC6\u7B26\u3002"}),"\n",(0,l.jsx)(n.h3,{id:"versal-vck5000-\u8BBE\u7F6E",children:"Versal VCK5000 \u8BBE\u7F6E"}),"\n",(0,l.jsxs)(n.p,{children:["\u67E5\u770B ",(0,l.jsx)(n.a,{href:"https://github.com/Xilinx/Vitis-AI/blob/v1.4/setup/vck5000/README.md",children:"VCK5000 Setup"})," \u83B7\u53D6\u8BBE\u7F6E\u4FE1\u606F\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"\u8BBE\u7F6E\u540E\uFF0C\u53EF\u4EE5\u901A\u8FC7\u4EE5\u4E0B\u65B9\u5F0F\u5728 Docker \u5BB9\u5668\u5185\u9009\u62E9\u6B63\u786E\u7684 DPU\uFF1A"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"cd /workspace\ngit clone --branch v1.4 --single-branch --recursive https://github.com/Xilinx/Vitis-AI.git\ncd Vitis-AI/setup/vck5000\nsource setup.sh\n"})}),"\n",(0,l.jsx)(n.h3,{id:"zynq-\u8BBE\u7F6E",children:"Zynq \u8BBE\u7F6E"}),"\n",(0,l.jsx)(n.p,{children:"\u9664\u4E86\u6784\u5EFA TVM - Vitis AI docker \u4E4B\u5916\uFF0C\u5BF9\u4E8E Zynq \u76EE\u6807\uFF08DPUCZDX8G\uFF09\uFF0C\u7F16\u8BD1\u9636\u6BB5\u5728\u4E3B\u673A\u4E0A\u7684 docker \u5185\u8FD0\u884C\uFF0C\u4E0D\u9700\u8981\u4EFB\u4F55\u7279\u5B9A\u8BBE\u7F6E\u3002\u6267\u884C\u6A21\u578B\u65F6\uFF0C\u9996\u5148\u8981\u8BBE\u7F6E Zynq \u677F\uFF0C\u66F4\u591A\u4FE1\u606F\u5982\u4E0B\u3002"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u4E0B\u8F7D Petalinux \u955C\u50CF\uFF1A"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://www.xilinx.com/member/forms/download/design-license-xef.html?filename=xilinx-zcu104-dpu-v2021.1-v1.4.0.img.gz",children:"ZCU104"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://www.xilinx.com/member/forms/download/design-license-xef.html?filename=xilinx-zcu102-dpu-v2021.1-v1.4.0.img.gz",children:"ZCU102"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://www.xilinx.com/member/forms/download/design-license-xef.html?filename=xilinx-kv260-dpu-v2020.2-v1.4.0.img.gz",children:"Kria KV260"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u4F7F\u7528 Etcher \u8F6F\u4EF6\u5C06\u955C\u50CF\u6587\u4EF6\u523B\u5F55\u5230 SD \u5361\u4E0A\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u5C06\u5E26\u6709\u56FE\u50CF\u7684 SD \u5361\u63D2\u5165\u76EE\u6807\u5355\u677F\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u63D2\u5165\u7535\u6E90\u5E76\u4F7F\u7528\u4E32\u884C\u7AEF\u53E3\u5728\u7CFB\u7EDF\u4E0A\u542F\u52A8\u8BE5\u5355\u677F\u3002"}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["\u7528\u4E32\u53E3\u8BBE\u7F6E\u5355\u677F\u7684 IP \u4FE1\u606F\u3002\u6709\u5173\u6B65\u9AA4 1 \u81F3 5 \u7684\u66F4\u591A\u4FE1\u606F\uFF0C\u53C2\u9605 ",(0,l.jsx)(n.a,{href:"https://www.xilinx.com/html_docs/vitis_ai/1_4/installation.html#ariaid-title8",children:"\u8BBE\u7F6E\u8BC4\u4F30\u5355\u677F"}),"\u3002"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u5728\u5355\u677F\u4E0A\u521B\u5EFA 4GB \u7684\u4EA4\u6362\u7A7A\u95F4"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:'fallocate -l 4G /swapfile\nchmod 600 /swapfile\nmkswap /swapfile\nswapon /swapfile\necho "/swapfile swap swap defaults 0 0" > /etc/fstab\n'})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u5B89\u88C5 hdf5 \u4F9D\u8D56\uFF08\u9700\u8981 30 \u5206\u949F\u5230 1 \u5C0F\u65F6\uFF09"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"cd /tmp && \\\n  wget https://support.hdfgroup.org/ftp/HDF5/releases/hdf5-1.10/hdf5-1.10.7/src/hdf5-1.10.7.tar.gz && \\\n  tar -zxvf hdf5-1.10.7.tar.gz && \\\n  cd hdf5-1.10.7 && \\\n  ./configure --prefix=/usr && \\\n  make -j$(nproc) && \\\n  make install && \\\n  cd /tmp && rm -rf hdf5-1.10.7*\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u5B89\u88C5 Python \u4F9D\u8D56"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"pip3 install Cython==0.29.23 h5py==2.10.0 pillow\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u5B89\u88C5 PyXIR"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"git clone --recursive --branch rel-v0.3.1 --single-branch https://github.com/Xilinx/pyxir.git\ncd pyxir\nsudo python3 setup.py install --use_vart_edge_dpu\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"\u7528 Vitis AI \u6784\u5EFA\u548C\u5B89\u88C5 TVM"}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"git clone --recursive https://github.com/apache/tvm\ncd tvm\nmkdir build\ncp cmake/config.cmake build\ncd build\necho set(USE_LLVM OFF) >> config.cmake\necho set(USE_VITIS_AI ON) >> config.cmake\ncmake ..\nmake tvm_runtime -j$(nproc)\ncd ../python\npip3 install --no-deps  -e .\n"})}),"\n",(0,l.jsxs)(n.ol,{start:"11",children:["\n",(0,l.jsx)(n.li,{children:"\u5728 Python shell \u4E2D\u68C0\u67E5\u8BBE\u7F6E\u662F\u5426\u6210\u529F\uFF1A"}),"\n"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"python3 -c 'import pyxir; import tvm'\n"})}),"\n",(0,l.jsx)(n.admonition,{type:"note",children:(0,l.jsx)(n.p,{children:'\u53EF\u80FD\u4F1A\u770B\u5230\u6709\u5173\u672A\u627E\u5230 "cpu-tf" runtime \u7684\u8B66\u544A\uFF0C\u53EF\u4EE5\u5FFD\u7565\u3002'})}),"\n",(0,l.jsx)(n.h3,{id:"versal-vck190-\u8BBE\u7F6E",children:"Versal VCK190 \u8BBE\u7F6E"}),"\n",(0,l.jsxs)(n.p,{children:["\u53C2\u8003 ",(0,l.jsx)(n.a,{href:"#zynq-setup",children:"Zynq \u8BBE\u7F6E"})," \u8BBE\u7F6E Versal VCK190\uFF0C\u4F46\u5728\u6B65\u9AA4 1 \u4E2D\u53C2\u8003 ",(0,l.jsx)(n.a,{href:"https://www.xilinx.com/member/forms/download/design-license-xef.html?filename=xilinx-vck190-dpu-v2020.2-v1.4.0.img.gz",children:"VCK190 \u955C\u50CF"}),"\u3002\u5176\u4ED6\u6B65\u9AA4\u76F8\u540C\u3002"]}),"\n",(0,l.jsx)(n.h2,{id:"\u7F16\u8BD1\u6A21\u578B",children:"\u7F16\u8BD1\u6A21\u578B"}),"\n",(0,l.jsxs)(n.p,{children:["\u5E26\u6709 Vitis AI \u6D41\u7684 TVM \u5305\u542B\u7F16\u8BD1\u548C\u63A8\u7406\u4E24\u4E2A\u9636\u6BB5\u3002\u5728\u7F16\u8BD1\u671F\u95F4\uFF0C\u7528\u6237\u53EF\u4EE5\u4E3A\u5F53\u524D\u652F\u6301\u7684\u4E91\u6216\u8FB9\u7F18\u76EE\u6807\u8BBE\u5907\u9009\u62E9\u8981\u7F16\u8BD1\u7684\u6A21\u578B\u3002\u7F16\u8BD1\u6A21\u578B\u751F\u6210\u7684\u6587\u4EF6\u53EF\u7528\u4E8E\u5728 ",(0,l.jsx)(n.a,{href:"#inference",children:"\u63A8\u7406"})," \u9636\u6BB5\u5728\u6307\u5B9A\u7684\u76EE\u6807\u8BBE\u5907\u4E0A\u8FD0\u884C\u6A21\u578B\u3002\u76EE\u524D\uFF0C\u91C7\u7528 Vitis AI \u6D41\u7A0B\u7684 TVM \u652F\u6301\u9009\u5B9A\u6570\u91CF\u7684 Xilinx \u6570\u636E\u4E2D\u5FC3\u548C\u8FB9\u7F18\u8BBE\u5907\u3002"]}),"\n",(0,l.jsx)(n.p,{children:"\u672C\u8282\u4ECB\u7ECD\u5728 TVM \u4E2D\u7528 Vitis AI \u7F16\u8BD1\u6A21\u578B\u7684\u4E00\u822C\u6D41\u7A0B\u3002"}),"\n",(0,l.jsx)(n.h3,{id:"\u5BFC\u5165",children:"\u5BFC\u5165"}),"\n",(0,l.jsxs)(n.p,{children:["\u786E\u4FDD\u5BFC\u5165 PyXIR \u548C DPU target\uFF08\u4E3A DPUCADF8H ",(0,l.jsx)(n.code,{children:"import pyxir.contrib.target.DPUCADF8H"})," \uFF09\uFF1A"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"import pyxir\nimport pyxir.contrib.target.DPUCADF8H\n\nimport tvm\nimport tvm.relay as relay\nfrom tvm.contrib.target import vitis_ai\nfrom tvm.contrib import utils, graph_executor\nfrom tvm.relay.op.contrib.vitis_ai import partition_for_vitis_ai\n"})}),"\n",(0,l.jsx)(n.h3,{id:"\u58F0\u660E-target",children:"\u58F0\u660E Target"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"tvm_target = 'llvm'\ndpu_target = 'DPUCADF8H' # options: 'DPUCADF8H', 'DPUCAHX8H-u50', 'DPUCAHX8H-u280', 'DPUCAHX8L', 'DPUCVDX8H', 'DPUCZDX8G-zcu104', 'DPUCZDX8G-zcu102', 'DPUCZDX8G-kv260'\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u5E26\u6709 Vitis AI \u6D41\u7684 TVM \u76EE\u524D\u652F\u6301\u672C\u9875\u9876\u90E8\u8868\u683C\u4E2D\u5217\u51FA\u7684 DPU targets\u3002\u4E00\u65E6\u5B9A\u4E49\u4E86\u6070\u5F53\u7684 target\uFF0C\u5C31\u4F1A\u8C03\u7528 TVM \u7F16\u8BD1\u5668\u6765\u4E3A\u6307\u5B9A\u7684 target \u6784\u5EFA\u8BA1\u7B97\u56FE\u3002"}),"\n",(0,l.jsx)(n.h3,{id:"\u5BFC\u5165\u6A21\u578B",children:"\u5BFC\u5165\u6A21\u578B"}),"\n",(0,l.jsx)(n.p,{children:"\u5BFC\u5165 MXNet \u6A21\u578B\u7684\u793A\u4F8B\u4EE3\u7801\uFF1A"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"mod, params = relay.frontend.from_mxnet(block, input_shape)\n"})}),"\n",(0,l.jsx)(n.h3,{id:"\u5BF9\u6A21\u578B\u5206\u533A",children:"\u5BF9\u6A21\u578B\u5206\u533A"}),"\n",(0,l.jsx)(n.p,{children:"\u5BFC\u5165\u6A21\u578B\u540E\uFF0C\u7528 Relay API \u4E3A DPU target \u6CE8\u91CA Relay \u8868\u8FBE\u5F0F\uFF0C\u5E76\u5BF9\u8BA1\u7B97\u56FE\u8FDB\u884C\u5206\u533A\u3002"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"mod = partition_for_vitis_ai(mod, params, dpu=dpu_target)\n"})}),"\n",(0,l.jsx)(n.h3,{id:"\u6784\u5EFA\u6A21\u578B",children:"\u6784\u5EFA\u6A21\u578B"}),"\n",(0,l.jsx)(n.p,{children:"\u5C06\u5206\u533A\u6A21\u578B\u4F20\u7ED9 TVM \u7F16\u8BD1\u5668\uFF0C\u7136\u540E\u751F\u6210 TVM Runtime \u7684 runtime \u5E93\u3002"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"export_rt_mod_file = os.path.join(os.getcwd(), 'vitis_ai.rtmod')\nbuild_options = {\n    'dpu': dpu_target,\n    'export_runtime_module': export_rt_mod_file\n}\nwith tvm.transform.PassContext(opt_level=3, config={'relay.ext.vitis_ai.options': build_options}):\n    lib = relay.build(mod, tvm_target, params=params)\n"})}),"\n",(0,l.jsx)(n.h3,{id:"\u91CF\u5316\u6A21\u578B",children:"\u91CF\u5316\u6A21\u578B"}),"\n",(0,l.jsx)(n.p,{children:"\u4E3A\u4E86\u7528 Vitis AI DPU \u52A0\u901F\u5668\u6765\u52A0\u901F\u795E\u7ECF\u7F51\u7EDC\u6A21\u578B\u7684\u63A8\u7406\uFF0C\u901A\u5E38\u8981\u5BF9\u6A21\u578B\u9884\u5148\u91CF\u5316\u3002\u5728 TVM - Vitis AI \u6D41\u4E2D\uFF0C\u5229\u7528\u52A8\u6001\u91CF\u5316\u6765\u66FF\u4EE3\u6B64\u9884\u5904\u7406\u6B65\u9AA4\u3002\u5728\u8FD9\u4E2A\u6D41\u4E2D\uFF0C\u53EF\u7528\u5178\u578B\u7684\u63A8\u7406\u6267\u884C\u8C03\u7528\uFF08module.run\uFF09\u4F7F\u7528\u63D0\u4F9B\u7684\u524D N \u4E2A\u8F93\u5165\u52A8\u6001\u91CF\u5316\u6A21\u578B\uFF08\u53C2\u89C1\u66F4\u591A\u4FE1\u606F\u5982\u4E0B\uFF09\uFF0C\u800C\u4E0D\u9700\u8981\u9884\u5148\u91CF\u5316\u6A21\u578B\u3002\u8FD9\u5C06\u8BBE\u7F6E\u548C\u6821\u51C6 Vitis-AI DPU\uFF0C\u4E3A\u540E\u9762\u6240\u6709\u8F93\u5165\u52A0\u901F\u63A8\u7406\u3002"}),"\n",(0,l.jsxs)(n.p,{children:["\u6CE8\u610F\uFF1A\u8FB9\u7F18\u6D41\u4E0E\u63A8\u7406\u4E2D\u89E3\u91CA\u7684\u6D41\u7565\u6709\u4E0D\u540C\uFF0C\u8FB9\u7F18\u6D41\u5728\u524D N \u4E2A\u8F93\u5165\u540E\u6A21\u578B\u88AB\u91CF\u5316\u548C\u7F16\u8BD1\uFF0C\u4F46\u63A8\u7406\u4E0D\u4F1A\u52A0\u901F\uFF0C\u5E76\u4E14\u5B83\u53EF\u4EE5\u79FB\u52A8\u5230\u8FB9\u7F18\u8BBE\u5907\u8FDB\u884C\u90E8\u7F72\u3002\u67E5\u770B\u4E0B\u9762\u7684 ",(0,l.jsx)(n.a,{href:"#running-on-zynq-and-vck190",children:"\u5728 Zynq \u4E0A\u8FD0\u884C"})," \u90E8\u5206\u4E86\u89E3\u66F4\u591A\u4FE1\u606F\u3002"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'module = graph_executor.GraphModule(lib["default"](tvm.cpu()))\n\n# \u524D N \u4E2A\uFF08\u9ED8\u8BA4 = 128\uFF09\u8F93\u5165\u7528\u4E8E\u91CF\u5316\u6821\u51C6\uFF0C\u5E76\u5728 CPU \u4E0A\u6267\u884C\n# \u53EF\u4EE5\u901A\u8FC7\u8BBE\u7F6E \u201CPX_QUANT_SIZE\u201D \u6765\u66F4\u6539\u6B64\u914D\u7F6E\uFF08\u4F8B\u5982\uFF0C\u5BFC\u51FA PX_QUANT_SIZE=64\uFF09\nfor i in range(128):\n   module.set_input(input_name, inputs[i])\n   module.run()\n'})}),"\n",(0,l.jsx)(n.p,{children:"\u7528\u4E8E\u91CF\u5316\u7684\u56FE\u50CF\u6570\u91CF\u9ED8\u8BA4\u8BBE\u7F6E\u4E3A 128\uFF0C\u53EF\u4EE5\u4F7F\u7528 PX_QUANT_SIZE \u73AF\u5883\u53D8\u91CF\u66F4\u6539\u52A8\u6001\u91CF\u5316\u7684\u56FE\u50CF\u6570\u91CF\u3002\u4F8B\u5982\uFF0C\u5728\u8C03\u7528\u7F16\u8BD1\u811A\u672C\u4E4B\u524D\u5728\u7EC8\u7AEF\u4E2D\u6267\u884C\u5982\u4E0B\u547D\u4EE4\uFF0C\u5C06\u91CF\u5316\u6821\u51C6\u6570\u636E\u96C6\u51CF\u5C11\u5230\u516B\u5E45\u56FE\u50CF\u3002"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"export PX_QUANT_SIZE=8\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u6700\u540E\u5C06 TVM \u7F16\u8BD1\u5668\u7684\u7F16\u8BD1\u8F93\u51FA\u5B58\u50A8\u5728\u78C1\u76D8\u4E0A\uFF0C\u65B9\u4FBF\u5728\u76EE\u6807\u8BBE\u5907\u4E0A\u8FD0\u884C\u6A21\u578B\u3002\u4E91 DPU\uFF08Alveo \u548C VCK5000\uFF09\u7684\u60C5\u51B5\u5982\u4E0B\uFF1A"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'lib_path = "deploy_lib.so"\nlib.export_library(lib_path)\n'})}),"\n",(0,l.jsx)(n.p,{children:"\u5BF9\u4E8E\u8FB9\u7F18 target\uFF08Zynq \u548C VCK190\uFF09\uFF0C\u5FC5\u987B\u4E3A aarch64 \u91CD\u5EFA\u3002\u56E0\u6B64\u9996\u5148\u5FC5\u987B\u6B63\u5E38\u5BFC\u51FA\u6A21\u5757\uFF0C\u5E76\u540C\u65F6\u5E8F\u5217\u5316 Vitis AI runtime \u6A21\u5757\uFF08vitis_ai.rtmod\uFF09\u3002\u4E4B\u540E\u518D\u6B21\u52A0\u8F7D\u6B64 runtime \u6A21\u5757\uFF0C\u4E3A aarch64 \u91CD\u5EFA\u548C\u5BFC\u51FA\u3002"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"temp = utils.tempdir()\nlib.export_library(temp.relpath(\"tvm_lib.so\"))\n\n# \u4E3A aarch64 target \u6784\u5EFA\u548C\u5BFC\u51FA\u5E93\ntvm_target = tvm.target.arm_cpu('ultra96')\nlib_kwargs = {\n   'fcompile': contrib.cc.create_shared,\n   'cc': \"/usr/aarch64-linux-gnu/bin/ld\"\n}\n\nbuild_options = {\n    'load_runtime_module': export_rt_mod_file\n}\nwith tvm.transform.PassContext(opt_level=3, config={'relay.ext.vitis_ai.options': build_options}):\n     lib_edge = relay.build(mod, tvm_target, params=params)\n\nlib_edge.export_library('deploy_lib_edge.so', **lib_kwargs)\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u4F7F\u7528 TVM \u548C Vitis AI \u7F16\u8BD1\u6A21\u578B\u7684\u6559\u7A0B\u5230\u6B64\u7ED3\u675F\uFF0C\u6709\u5173\u5982\u4F55\u8FD0\u884C\u5DF2\u7F16\u8BD1\u7684\u6A21\u578B\uFF0C\u53C2\u9605\u4E0B\u4E00\u8282\u3002"}),"\n",(0,l.jsx)(n.h2,{id:"\u63A8\u7406",children:"\u63A8\u7406"}),"\n",(0,l.jsx)(n.p,{children:"\u5E26\u6709 Vitis AI \u6D41\u7684 TVM \u5305\u542B\u7F16\u8BD1\u548C\u63A8\u7406\u4E24\u4E2A\u9636\u6BB5\uFF0C\u5728\u7F16\u8BD1\u671F\u95F4\uFF0C\u7528\u6237\u53EF\u4EE5\u9009\u62E9\u4E3A\u5F53\u524D\u652F\u6301\u7684\u4EFB\u4F55\u76EE\u6807\u8BBE\u5907\u7F16\u8BD1\u6A21\u578B\u3002\u7F16\u8BD1\u6A21\u578B\u540E\u751F\u6210\u7684\u6587\u4EF6\u53EF\u7528\u4E8E\u5728\u63A8\u7406\u9636\u6BB5\u5728\u76EE\u6807\u8BBE\u5907\u4E0A\u8FD0\u884C\u6A21\u578B\u3002"}),"\n",(0,l.jsxs)(n.p,{children:["\u67E5\u770B ",(0,l.jsx)(n.a,{href:"#running-on-alveo-and-vck5000",children:"\u5728 Alveo \u548C VCK5000 \u4E0A\u8FD0\u884C"})," \u4EE5\u53CA ",(0,l.jsx)(n.a,{href:"#running-on-zynq-and-vck190",children:"\u5728 Zynq \u548C VCK190 \u4E0A\u8FD0\u884C"})," \u90E8\u5206\uFF0C\u5206\u522B\u5728\u4E91\u52A0\u901F\u5361\u548C\u8FB9\u7F18\u677F\u4E0A\u8FDB\u884C\u63A8\u7406\u3002"]}),"\n",(0,l.jsx)(n.h3,{id:"\u5728-alveo-\u548C-vck5000-\u4E0A\u8FD0\u884C",children:"\u5728 Alveo \u548C VCK5000 \u4E0A\u8FD0\u884C"}),"\n",(0,l.jsx)(n.p,{children:"\u6309\u7167\u7F16\u8BD1\u6A21\u578B\u90E8\u5206\u4E2D\u7684\u6B65\u9AA4\uFF0C\u53EF\u4EE5\u5728 Docker \u5185\u7684\u65B0\u8F93\u5165\u4E0A\u6267\u884C\u5982\u4E0B\u547D\u4EE4\u4EE5\u52A0\u901F\u63A8\u7406\uFF1A"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"module.set_input(input_name, inputs[i])\nmodule.run()\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u6216\u8005\u52A0\u8F7D\u5BFC\u51FA\u7684 runtime \u6A21\u5757\uFF08\u5728 ",(0,l.jsx)(n.a,{href:"#compile",children:"\u7F16\u8BD1\u6A21\u578B"})," \u4E2D\u5BFC\u51FA\u7684 deploy_lib.so\uFF09\uFF1A"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'import pyxir\nimport tvm\nfrom tvm.contrib import graph_executor\n\ndev = tvm.cpu()\n\n# input_name = ...\n# input_data = ...\n\n# \u5C06\u6A21\u5757\u52A0\u8F7D\u5230\u5185\u5B58\nlib = tvm.runtime.load_module("deploy_lib.so")\n\nmodule = graph_executor.GraphModule(lib["default"](dev))\nmodule.set_input(input_name, input_data)\nmodule.run()\n'})}),"\n",(0,l.jsx)(n.h3,{id:"\u5728-zynq-\u548C-vck190-\u4E0A\u8FD0\u884C",children:"\u5728 Zynq \u548C VCK190 \u4E0A\u8FD0\u884C"}),"\n",(0,l.jsxs)(n.p,{children:["\u5F00\u59CB\u524D\u6309\u7167 ",(0,l.jsx)(n.a,{href:"#zynq-setup",children:"Zynq"})," \u6216 ",(0,l.jsx)(n.a,{href:"#versal-vck190-setup",children:"Versal VCK190"})," \u8BBE\u7F6E\u8BF4\u660E\u8FDB\u884C\u8BBE\u7F6E\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u5728\u5355\u677F\u4E0A\u8FD0\u884C\u6A21\u578B\u4E4B\u524D\uFF0C\u9700\u8981\u4E3A\u76EE\u6807\u8BC4\u4F30\u5355\u677F\u7F16\u8BD1\u6A21\u578B\uFF0C\u5E76\u5C06\u7F16\u8BD1\u540E\u7684\u6A21\u578B\u4F20\u8F93\u5230\u677F\u4E0A\u3002\u5982\u4F55\u7F16\u8BD1\u6A21\u578B\uFF0C\u53C2\u9605 ",(0,l.jsx)(n.a,{href:"#compile",children:"\u7F16\u8BD1\u6A21\u578B"})," \u90E8\u5206\u3002"]}),"\n",(0,l.jsxs)(n.p,{children:["\u4E4B\u540E\u5C06\u7F16\u8BD1\u597D\u7684\u6A21\u578B\uFF08deploy_lib_edge.so\uFF09\u4F20\u8F93\u5230\u8BC4\u4F30\u5355\u677F\uFF0C\u7136\u540E\u53EF\u4EE5\u5728\u677F\u4E0A\u4F7F\u7528\u5178\u578B\u7684\u300Cload_module\u300D\u548C\u300Cmodule.run\u300DAPI \u6765\u6267\u884C\u3002\u786E\u4FDD\u4EE5 root \u8EAB\u4EFD\u8FD0\u884C\u811A\u672C\uFF08\u5728\u7EC8\u7AEF\u4E2D\u6267\u884C ",(0,l.jsx)(n.code,{children:"su"})," \u767B\u5F55\u5230 root\uFF09\u3002"]}),"\n",(0,l.jsx)(n.admonition,{type:"note",children:(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u4E0D\u8981"}),"\u5728\u8FD0\u884C\u811A\u672C\uFF08",(0,l.jsx)(n.code,{children:"import pyxir.contrib.target.DPUCZDX8G"}),"\uFF09\u4E2D\u5BFC\u5165 PyXIR DPU targets\u3002"]})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'import pyxir\nimport tvm\nfrom tvm.contrib import graph_executor\n\ndev = tvm.cpu()\n\n# input_name = ...\n# input_data = ...\n\n# \u5C06\u6A21\u5757\u52A0\u8F7D\u5230\u5185\u5B58\nlib = tvm.runtime.load_module("deploy_lib_edge.so")\n\nmodule = graph_executor.GraphModule(lib["default"](dev))\nmodule.set_input(input_name, input_data)\nmodule.run()\n'})})]})}function o(e={}){let{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(h,{...e})}):h(e)}},21494:function(e,n,i){i.d(n,{Z:function(){return d},a:function(){return r}});var t=i(39546);let l={},s=t.createContext(l);function r(e){let n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);