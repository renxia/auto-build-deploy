<!doctype html>
<html lang="zh" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-set_up_elasticsearch/installing_elasticsearch/msi">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">使用 Windows MSI 安装程序安装 Elasticsearch | Elasticsearch 中文文档</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://lzw.me/docs/elasticsearch-cn/set_up_elasticsearch/installing_elasticsearch/msi"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="keywords" content="Elastic,Elasticsearch,Elasticsearch api,ElasticStack,ELK,Document,docs,文档,中文文档,入门"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="使用 Windows MSI 安装程序安装 Elasticsearch | Elasticsearch 中文文档"><meta data-rh="true" name="description" content="此功能处于测试阶段，随时可能改变。该设计和代码是不够成熟的正式 GA 特性，并不提供保证。测试版本特性不属于支持 SLA 的正式 GA 特性。"><meta data-rh="true" property="og:description" content="此功能处于测试阶段，随时可能改变。该设计和代码是不够成熟的正式 GA 特性，并不提供保证。测试版本特性不属于支持 SLA 的正式 GA 特性。"><link data-rh="true" rel="icon" href="/docs/elasticsearch-cn/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://lzw.me/docs/elasticsearch-cn/set_up_elasticsearch/installing_elasticsearch/msi"><link data-rh="true" rel="alternate" href="https://lzw.me/docs/elasticsearch-cn/set_up_elasticsearch/installing_elasticsearch/msi" hreflang="zh"><link data-rh="true" rel="alternate" href="https://lzw.me/docs/elasticsearch-cn/set_up_elasticsearch/installing_elasticsearch/msi" hreflang="x-default"><script src="https://lzw.me/x/lib/utils/h5-common.min.js"></script><link rel="stylesheet" href="/docs/elasticsearch-cn/assets/css/styles.a40c990e.css">
<link rel="preload" href="/docs/elasticsearch-cn/assets/js/runtime~main.4a16cc88.js" as="script">
<link rel="preload" href="/docs/elasticsearch-cn/assets/js/main.15caa9bc.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/elasticsearch-cn/"><div class="navbar__logo"><img src="/docs/elasticsearch-cn/img/favicon.ico" alt="elasticsearch Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/docs/elasticsearch-cn/img/favicon.ico" alt="elasticsearch Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Elasticsearch 中文文档</b></a></div><div class="navbar__items navbar__items--right"><a href="https://lzw.me/docs/elasticsearch-cn/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">首页<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://docs.bookhub.tech" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">中文文档<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/dev2007/elasticsearch-doc" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub 仓库"></a><div class="searchBox_ZlJk"><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Loading..." aria-label="Search" class="navbar__search-input search-bar" disabled=""></div></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/elasticsearch-cn/">Elasticsearch 翻译说明</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/elasticsearch-cn/intro/">什么是 Elasticsearch？</a><button aria-label="打开/收起侧边栏菜单「什么是 Elasticsearch？」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/elasticsearch-cn/getting_started/">Elasticsearch 入门</a><button aria-label="打开/收起侧边栏菜单「Elasticsearch 入门」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/elasticsearch-cn/set_up_elasticsearch/">设置 Elasticsearch</a><button aria-label="打开/收起侧边栏菜单「设置 Elasticsearch」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/elasticsearch-cn/set_up_elasticsearch/installing_elasticsearch/">安装 Elasticsearch</a><button aria-label="打开/收起侧边栏菜单「安装 Elasticsearch」" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/elasticsearch-cn/set_up_elasticsearch/installing_elasticsearch/linux">在 Linux 或 MacOS 上用压缩包安装 Elasticsearch</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/elasticsearch-cn/set_up_elasticsearch/installing_elasticsearch/windows">在 Windows 上用 .zip 安装 Elasticsearch</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/elasticsearch-cn/set_up_elasticsearch/installing_elasticsearch/debian">使用 Debian 包安装 Elasticsearch</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/elasticsearch-cn/set_up_elasticsearch/installing_elasticsearch/rpm">使用 RPM 安装 Elasticsearch</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/elasticsearch-cn/set_up_elasticsearch/installing_elasticsearch/msi">使用 Windows MSI 安装程序安装 Elasticsearch</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/elasticsearch-cn/set_up_elasticsearch/installing_elasticsearch/docker">使用 Docker 安装 Elasticsearch</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/elasticsearch-cn/set_up_elasticsearch/installing_elasticsearch/brew">使用 Homebrew 在 macOS 上安装 Elasticsearch</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/elasticsearch-cn/set_up_elasticsearch/configuring_elasticsearch/">配置 Elasticsearch</a><button aria-label="打开/收起侧边栏菜单「配置 Elasticsearch」" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/elasticsearch-cn/index_modules/">索引模块</a><button aria-label="打开/收起侧边栏菜单「索引模块」" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/elasticsearch-cn/rest_apis/">REST API</a><button aria-label="打开/收起侧边栏菜单「REST API」" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="收起侧边栏" aria-label="收起侧边栏" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/docs/elasticsearch-cn/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/elasticsearch-cn/set_up_elasticsearch/"><span itemprop="name">设置 Elasticsearch</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/elasticsearch-cn/set_up_elasticsearch/installing_elasticsearch/"><span itemprop="name">安装 Elasticsearch</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">使用 Windows MSI 安装程序安装 Elasticsearch</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><h1>使用 Windows MSI 安装程序安装 Elasticsearch</h1><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>警告</div><div class="admonitionContent_S0QG"><p>此功能处于测试阶段，随时可能改变。该设计和代码是不够成熟的正式 GA 特性，并不提供保证。测试版本特性不属于支持 SLA 的正式 GA 特性。</p></div></div><p>Elasticsearch 可以使用 <code>.msi</code> 包在 Windows 上安装。可以将 Elasticsearch 作为 Windows 服务安装，或者使用 <code>elasticsearch.exe</code> 手工运行。</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>提示</div><div class="admonitionContent_S0QG"><p>Elasticsearch 过去使用 <code>.zip</code> 存档安装到 Windows 上。如果你愿意可以继续使用 <code>.zip</code>。</p></div></div><p>这个包包含免费和订阅的特性。<a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/license-settings.html" target="_blank" rel="noopener noreferrer">开始 30 天的试用</a>，尝试所有功能。</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>提示</div><div class="admonitionContent_S0QG"><p>在 Windows 上，Elasticsearch 机器学习特性需要 Microsoft 通用 C 运行时库。它内置于 Windows 10、Windows Server 2016 和更高版本的 Windows 中。对于老版本的 Windows，它可以通过 Windows Update 安装，也可以从<a href="https://support.microsoft.com/en-us/help/2999226/update-for-universal-c-runtime-in-windows" target="_blank" rel="noopener noreferrer">独立下载</a>安装。如果你不能安装 Microsoft 通用 C 运行时库，禁用机器学习特性你也能使用 Elasticsearch 的其他特性。</p></div></div><p>Elasticsearch 的最新稳定版本，能在 <a href="https://www.elastic.co/downloads/elasticsearch" target="_blank" rel="noopener noreferrer">Elasticsearch 下载页面</a>找到。其他版本能在<a href="https://www.elastic.co/downloads/past-releases" target="_blank" rel="noopener noreferrer">历史发布页面</a>找到。</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>提示</div><div class="admonitionContent_S0QG"><p>Elasticsearch 包含 JDK 维护者（GPLv2+CE）提供的 <a href="https://openjdk.java.net/" target="_blank" rel="noopener noreferrer">OpenJDK</a> 捆绑版本。要使用自己的 Java 版本，查阅 <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/setup.html#jvm-version" target="_blank" rel="noopener noreferrer">JVM 版本要求</a>。</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="下载-msi-包">下载 <code>.msi</code> 包<a href="#下载-msi-包" class="hash-link" aria-label="下载-msi-包的直接链接" title="下载-msi-包的直接链接">​</a></h2><p>从 <a href="https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.11.2.msi" target="_blank" rel="noopener noreferrer">https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.11.2.msi</a> 下载 Elasticsearch v7.11.2 <code>.msi</code> 包。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="使用图形化界面gui安装">使用图形化界面（GUI）安装<a href="#使用图形化界面gui安装" class="hash-link" aria-label="使用图形化界面（GUI）安装的直接链接" title="使用图形化界面（GUI）安装的直接链接">​</a></h3><p>双击下载的 <code>.msi</code> 包以启动 GUI 向导，它会引导你完成安装过程。任何一步，你都可以通过点击 <code>?</code> 按钮浏览帮助，它会通过侧面板展示每一个输入的附加信息：</p><p><img loading="lazy" alt="msi_installer_help" src="/docs/elasticsearch-cn/assets/images/msi_installer_help-2095d9a2c1468004a5ae909c065db8f1.png" width="900" height="600" class="img_ev3q"></p><p>在每个界面，选择安装的目录。此外，选择数据、日志以及配置的目录或者<!-- -->[使用默认位置]<!-- -->(/msi#命令行选项）：</p><p><img loading="lazy" alt="msi_installer_locations.png" src="/docs/elasticsearch-cn/assets/images/msi_installer_locations-1ac40c3ebc6065a0bc19997c47d15cfe.png" width="900" height="600" class="img_ev3q"></p><p>接着，按需选择是作为服务安装还是手工启动 Elasticsearch。作为服务安装时，你还可以配置运行这个服务的 Windows 账户、安装后是否启动以及 Windows 启动行为。</p><p><img loading="lazy" alt="msi_installer_service" src="/docs/elasticsearch-cn/assets/images/msi_installer_service-c667a42124e1486e2af9bdbf6bd0fc91.png" width="900" height="600" class="img_ev3q"></p><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>警告</div><div class="admonitionContent_S0QG"><p>当选择运行服务的 Windows 账户时，请确保选择的账户有足够的权限访问安装和其他选择的部署目录。还要确保这个账户能运行 Windows 服务。</p></div></div><p>公共配置在配置页展示，除了内存和网络设置，还支持集群名字、节点名字以及角色设置：</p><p><img loading="lazy" alt="msi_installer_configuration" src="/docs/elasticsearch-cn/assets/images/msi_installer_configuration-810ccfca21946f8d969ab07586a94cf1.png" width="900" height="600" class="img_ev3q"></p><p>作为安装的一部分，可以下载和安装一系列常见插件，通过配置 HTTPS 代理选项就可以下载这些插件。</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>提示</div><div class="admonitionContent_S0QG"><p>确保安装机器可能访问互联网，且任何公司防火墙已配置允许从 <code>artifacts.elastic.co</code> 下载：</p></div></div><p><img loading="lazy" alt="msi_installer_selected_plugins" src="/docs/elasticsearch-cn/assets/images/msi_installer_selected_plugins-661affc571f5f8fc31f2bda712731365.png" width="900" height="600" class="img_ev3q"></p><p>从 6.3.0 版本开始，默认情况下 X-Pack 是捆绑的。除了安全配置和内置用户配置，最后一步允许选择要安装的授权类型：</p><p><img loading="lazy" alt="msi_installer_xpack" src="/docs/elasticsearch-cn/assets/images/msi_installer_xpack-4fd438d967d4e689f474acdbbda5d03e.png" width="900" height="600" class="img_ev3q"></p><p>在点击安装按钮后，安装开始：</p><p><img loading="lazy" alt="msi_installer_installing" src="/docs/elasticsearch-cn/assets/images/msi_installer_installing-53e417d612dba1bc6d1ae15e44dbb606.png" width="900" height="600" class="img_ev3q"></p><p>然后安装成功后会展示：</p><p><img loading="lazy" alt="msi_installer_success" src="/docs/elasticsearch-cn/assets/images/msi_installer_success-312f6d3b2e9b5185c682b5be92425401.png" width="900" height="600" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="使用命令行安装">使用命令行安装<a href="#使用命令行安装" class="hash-link" aria-label="使用命令行安装的直接链接" title="使用命令行安装的直接链接">​</a></h3><p><code>.msi</code> 也可以通过命令行安装 Elasticsearch。使用与图形化界面相同的默认配置的最简单安装，就是先定位到下载目录，然后运行：</p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">msiexec.exe /i elasticsearch-7.11.2.msi /qn</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>默认情况下， <code>msiexec.exe</code> 不会等待安装进程完成，因为它在 Windows 子系统中运行。要等待进程完成，并确保相应设置了 <code>%ERRORLEVEL%</code>，推荐使用 <code>start /wait</code> 去创建进程并等待它退出。</p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">start /wait msiexec.exe /i elasticsearch-7.11.2.msi /qn</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>与任何 MSI 安装包一样，安装过程的日志文件可以在 <code>%TEMP%</code> 目录中找到，随机生成文件名的格式为 <code>MSI&lt;random&gt;.LOG</code>。日志文件的路径 可以通过 <code>/l</code> 命令行参数提供。</p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">start /wait msiexec.exe /i elasticsearch-7.11.2.msi /qn /l install.log</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Windows 安装程序支持的命令行参数可以通过以下查看：</p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">msiexec.exe /help</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>或者查阅 <a href="https://msdn.microsoft.com/en-us/library/windows/desktop/aa367988(v=vs.85).aspx" target="_blank" rel="noopener noreferrer">Windows 安装程序 SDK命令行选项</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="命令行选项">命令行选项<a href="#命令行选项" class="hash-link" aria-label="命令行选项的直接链接" title="命令行选项的直接链接">​</a></h3><p>GUI 中展示的设置也可以用作命令行参数（在 Windows 安装程序文档中叫作属性），这些参数可传递给 <code>msiexec.exe</code>：</p><table><thead><tr><th align="left"></th><th align="left"></th></tr></thead><tbody><tr><td align="left"><code>INSTALLDIR</code></td><td align="left">安装目录。目录结尾必须是 Elasticsearch 的版本。默认为 <code>%ProgramW6432%\Elastic\Elasticsearch\7.11.2.</code></td></tr><tr><td align="left"><code>DATADIRECTORY</code></td><td align="left">存储数据的目录。默认为 <code>%ALLUSERSPROFILE%\Elastic\Elasticsearch\data</code></td></tr><tr><td align="left"><code>CONFIGDIRECTORY</code></td><td align="left">存储配置的目录。默认为 <code>%ALLUSERSPROFILE%\Elastic\Elasticsearch\config</code></td></tr><tr><td align="left"><code>LOGSDIRECTORY</code></td><td align="left">存储日志的目录。默认为 <code>%ALLUSERSPROFILE%\Elastic\Elasticsearch\logs</code></td></tr><tr><td align="left"><code>PLACEWRITABLELOCATIONSINSAMEPATH</code></td><td align="left">是否在安装目录下创建数据、配置和日志目录。默认为 <code>false</code></td></tr><tr><td align="left"><code>INSTALLASSERVICE</code></td><td align="left">Elasticsearch 是否作为 Windows 服务安装和配置。默认为 <code>true</code></td></tr><tr><td align="left"><code>STARTAFTERINSTALL</code></td><td align="left">在安装完成后是否启动此 Windows 服务。默认为 <code>true</code></td></tr><tr><td align="left"><code>STARTWHENWINDOWSSTARTS</code></td><td align="left">当 Windows 启动时是否记启动此 Windows 服务。默认为 <code>true</code></td></tr><tr><td align="left"><code>USELOCALSYSTEM</code></td><td align="left">此Windows 服务是否以 LocalSystem 账户运行。默认为 <code>true</code></td></tr><tr><td align="left"><code>USENETWORKSERVICE</code></td><td align="left">此Windows 服务是否以 NetworkService 账户运行。默认为 <code>false</code></td></tr><tr><td align="left"><code>USEEXISTINGUSER</code></td><td align="left">此Windows 服务是否以指定的现有账户运行。默认为 <code>false</code></td></tr><tr><td align="left"><code>USER</code></td><td align="left">运行此 Windows 服务账户名。默认为 <code>“”</code></td></tr><tr><td align="left"><code>PASSWORD</code></td><td align="left">运行此 Windows 服务的账户的密码。默认为<code>“”</code></td></tr><tr><td align="left"><code>CLUSTERNAME</code></td><td align="left">集群名字。默认为 <code>elasticsearch</code></td></tr><tr><td align="left"><code>NODENAME</code></td><td align="left">节点的名字。默认为 <code>%COMPUTERNAME%</code></td></tr><tr><td align="left"><code>MASTERNODE</code></td><td align="left">此 Elasticsearch 是否配置作为主节点。默认为 <code>true</code></td></tr><tr><td align="left"><code>DATANODE</code></td><td align="left">此 Elasticsearch 是否配置作为数据节点。默认为 <code>true</code></td></tr><tr><td align="left"><code>INGESTNODE</code></td><td align="left">此 Elasticsearch 是否配置作为预处理节点。默认为 <code>true</code></td></tr><tr><td align="left"><code>SELECTEDMEMORY</code></td><td align="left">分配给 Elasticsearch 的 JVM 堆内存大小。默认为 <code>2048</code>，除非目标机器内存总共小于 4 GB，这种情况默认为总内存的 50%</td></tr><tr><td align="left"><code>LOCKMEMORY</code></td><td align="left">是否 <code>bootstrap.memory_lock</code> 应用于尝试锁定进程地址空间到内存中。默认为 <code>false</code></td></tr><tr><td align="left"><code>UNICASTNODES</code></td><td align="left">用逗号分割的用于单播发现的主机列表，格式为 <code>host:port</code> 或 <code>host</code> 。默认为 <code>“”</code></td></tr><tr><td align="left"><code>MINIMUMMASTERNODES</code></td><td align="left">形成集群的符合主节点的节点最小数量。默认为 <code>“”</code></td></tr><tr><td align="left"><code>NETWORKHOST</code></td><td align="left">要把节点绑定和发布（广播）该主机到集群中其他节点的主机名或者 IP 地址。默认为 <code>“”</code></td></tr><tr><td align="left"><code>HTTPPORT</code></td><td align="left">用于通过 HTTP 暴露 Elasticsearch API 的端口。默认为 <code>9200</code></td></tr><tr><td align="left"><code>TRANSPORTPORT</code></td><td align="left">用于集群内节点间内部通信的端口。默认为 <code>9300</code></td></tr><tr><td align="left"><code>PLUGINS</code></td><td align="left">作为安装一部分，逗号分割的下载和安装的插件列表。默认为 <code>“”</code></td></tr><tr><td align="left"><code>HTTPSPROXYHOST</code></td><td align="left">通过 HTTPS 下载插件的代理主机。默认为 <code>“”</code></td></tr><tr><td align="left"><code>HTTPSPROXYPORT</code></td><td align="left">通过 HTTPS 下载插件的代理端口。默认为 <code>443</code></td></tr><tr><td align="left"><code>HTTPPROXYHOST</code></td><td align="left">通过 HTTP 下载插件的代理主机。默认为 <code>“”</code></td></tr><tr><td align="left"><code>HTTPPROXYPORT</code></td><td align="left">通过 HTTP 下载插件的代理端口。默认为 <code>80</code></td></tr><tr><td align="left"><code>XPACKLICENSE</code></td><td align="left">安装的授权类型。<code>Basic</code> 或者 <code>Trial</code>。默认为 <code>Basic</code></td></tr><tr><td align="left"><code>XPACKSECURITYENABLED</code></td><td align="left">使用 <code>Trial</code> 授权安装时，是否启用安全特性。默认为 <code>true</code></td></tr><tr><td align="left"><code>BOOTSTRAPPASSWORD</code></td><td align="left">使用 <code>Trial</code> 授权安装时，且安全特性启用，用于引导集群并作为 <code>bootstrap.password</code> 设置存在密码库中。默认为随机值</td></tr><tr><td align="left"><code>SKIPSETTINGPASSWORDS</code></td><td align="left">使用 <code>Trial</code> 授权安装时，且安全特性启用，安装是否跳过设置内置用户。默认为 <code>false</code></td></tr><tr><td align="left"><code>ELASTICUSERPASSWORD</code></td><td align="left">使用 <code>Trial</code> 授权安装时，且安全特性启用，用作内置用户 <code>elastic</code> 的密码。默认为 <code>“”</code></td></tr><tr><td align="left"><code>KIBANAUSERPASSWORD</code></td><td align="left">使用 <code>Trial</code> 授权安装时，且安全特性启用，用作内置用户 <code>kibana</code> 的密码。默认为 <code>“”</code></td></tr><tr><td align="left"><code>LOGSTASHSYSTEMUSERPASSWORD</code></td><td align="left">使用 <code>Trial</code> 授权安装时，且安全特性启用，用作内置用户 <code>logstash_system</code> 的密码。默认为 <code>“”</code></td></tr></tbody></table><p>要传值，只需把属性名字和值，按格式 <code>&lt;PROPERTYNAME&gt;=&quot;&lt;VALUE&gt;&quot;</code> 添加给安装命令。比如，使用与默认安装目录不同的目录：</p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">start /wait msiexec.exe /i elasticsearch-7.11.2.msi /qn INSTALLDIR=&quot;C:\Custom Install Directory{version}&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>有关包含引号的值的其他规则，请参阅 <a href="https://msdn.microsoft.com/en-us/library/windows/desktop/aa367988(v=vs.85).aspx" target="_blank" rel="noopener noreferrer">Windows 安装程序 SDK 命令行选项</a>。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="启用系统索引自动创建-x-pack">启用系统索引自动创建 <!-- -->[<code>X-Pack</code>]<a href="#启用系统索引自动创建-x-pack" class="hash-link" aria-label="启用系统索引自动创建-x-pack的直接链接" title="启用系统索引自动创建-x-pack的直接链接">​</a></h2><p>一些商业特性会在 Elasticsearch 中自动创建索引。默认情况下， Elasticsearch 配置为允许自动创建索引而不需要额外的步骤。然而，如果你在 Elasticsearch 中禁用了自动索引创建，则必须在 <code>elasticsearch.yml</code> 中配置 <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/docs-index_.html#index-creation" target="_blank" rel="noopener noreferrer"><code>action.auto_create_index</code></a> 以允许商业特性创建以下索引：</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">action.auto_create_index</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> .monitoring*</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">.watches</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">.triggered_watches</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">.watcher</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">history*</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">.ml*</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>警告</div><div class="admonitionContent_S0QG"><p>如果你在使用 <a href="https://www.elastic.co/products/logstash" target="_blank" rel="noopener noreferrer">Logstash</a> 或 <a href="https://www.elastic.co/products/beats" target="_blank" rel="noopener noreferrer">Beats</a>，那么你很可能需要在你的 <code>action.auto_create_index</code> 设置中使用额外的索引名字，具体的值取决于你的本地配置。如果你不确定你环境的正确值，可以考虑设置这个值为*以允许自动创建所有索引。</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="从命令行运行-elasticsearch">从命令行运行 Elasticsearch<a href="#从命令行运行-elasticsearch" class="hash-link" aria-label="从命令行运行 Elasticsearch的直接链接" title="从命令行运行 Elasticsearch的直接链接">​</a></h2><p>一旦安装，如果未作为服务安装以及配置安装完成后启动，Elasticsearch 可以从命令行启动，如下：</p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">.\bin\elasticsearch.exe</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>命令行终端将展示类似于以下的输出：</p><p><img loading="lazy" alt="elasticsearch_exe" src="/docs/elasticsearch-cn/assets/images/elasticsearch_exe-e4933d933fc915f7102cc9cb9f208ca5.png" width="984" height="619" class="img_ev3q"></p><p>默认情况下，Elasticsearch 在前台运行，除了向 <code>LOGSDIRECTORY</code> 中 <code>&lt;cluster name&gt;.log</code> 文件打印日志，还将日志打印到标准输出（<code>STDOUT</code>），且可以通过 <code>Ctrl-C</code> 中止。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="在命令行配置-elasticsearch">在命令行配置 Elasticsearch<a href="#在命令行配置-elasticsearch" class="hash-link" aria-label="在命令行配置 Elasticsearch的直接链接" title="在命令行配置 Elasticsearch的直接链接">​</a></h2><p>Elasticsearch 默认从文件 <code>%ES_PATH_CONF%\elasticsearch.yml</code> 加载配置。在<a href="/docs/elasticsearch-cn/set_up_elasticsearch/config">配置 Elasticsearch</a> 中解释了配置文件的格式。</p><p>在配置文件中可以指定的设置，也能在命令行中指定，如下使用 <code>-E</code> 的语法：</p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">.\bin\elasticsearch.exe -E cluster.name=my_cluster -E node.name=node_1</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>提示</div><div class="admonitionContent_S0QG"><p>包含空格的值必须使用引号括起来。如 <code>-Epath.logs=&quot;C:\My Logs\logs&quot;</code>。</p></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>提示</div><div class="admonitionContent_S0QG"><p>通常，任意集群范围设置（如 <code>cluster.name</code>）应该添加到 <code>elasticsearch.yml</code> 配置文件中，而任何节点特定设置，如 <code>node.name</code>，应该在命令行中指定。</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="检查-elasticsearch-是否正在运行">检查 Elasticsearch 是否正在运行<a href="#检查-elasticsearch-是否正在运行" class="hash-link" aria-label="检查 Elasticsearch 是否正在运行的直接链接" title="检查 Elasticsearch 是否正在运行的直接链接">​</a></h2><p>你可以通过向 <code>localhost</code> 的 <code>9200</code> 端口发送 HTTP 请求来测试 Elasticsearch 节点是否正在运行：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">GET /</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>这会给你这样的响应：</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;name&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;Cp8oag6&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;cluster_name&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;elasticsearch&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;cluster_uuid&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;AT69_T_DTp-1qgIJlatQqA&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;version&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;number&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;7.11.2&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;build_flavor&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;default&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;build_type&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;tar&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;build_hash&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;f27399d&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;build_date&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2016-03-30T09:51:41.449Z&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;build_snapshot&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;lucene_version&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;8.7.0&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;minimum_wire_compatibility_version&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1.2.3&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;minimum_index_compatibility_version&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;1.2.3&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">&quot;tagline&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;You Know, for Search&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="在-windows-上作为服务安装-elasticsearch">在 Windows 上作为服务安装 Elasticsearch<a href="#在-windows-上作为服务安装-elasticsearch" class="hash-link" aria-label="在 Windows 上作为服务安装 Elasticsearch的直接链接" title="在 Windows 上作为服务安装 Elasticsearch的直接链接">​</a></h2><p>Elasticsearch 可以作为服务安装在后台运行，也可以没有任何用户交互下，在系统启动时自动启动。这可以在安装时使用以下命令行选项实现：</p><ul><li>INSTALLASSERVICE=true</li><li>STARTAFTERINSTALL=true</li><li>STARTWHENWINDOWSSTARTS=true</li></ul><p>一旦安装，Elasticsearch 就会出现在服务控制面板：</p><p><img loading="lazy" alt="msi_installer_installed_service" src="/docs/elasticsearch-cn/assets/images/msi_installer_installed_service-7885ec5beddcfcee71b925855b092a45.png" width="952" height="419" class="img_ev3q"></p><p>而且，可以在控制面板中或从命令行使用以下命令停止和重启：</p><p>命令行：</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">sc.exe stop Elasticsearch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sc.exe start Elasticsearch</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Powershell：</p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Get-Service Elasticsearch | Stop-Service</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Get-Service Elasticsearch | Start-Service</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>在安装后，可以修改 <code>jvm.options</code> 和 <code>elasticsearch.yml</code> 配置文件用来配置服务。大多数的修改（如 JVM 设置），都需要重启服务才能生效。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="使用图形化界面gui升级">使用图形化界面（GUI）升级<a href="#使用图形化界面gui升级" class="hash-link" aria-label="使用图形化界面（GUI）升级的直接链接" title="使用图形化界面（GUI）升级的直接链接">​</a></h2><p><code>.msi</code> 包支持升级已安装的 Elasticsearch 版本到更新的版本。通过 GUI 的升级过程处理升级所有已安装的插件，以及保留数据和配置。</p><p>下载并双击更新版本的 <code>.msi</code> 包将启动 GUI 向导。第一步将列出之前安装的只读属性：</p><p><img loading="lazy" alt="msi_installer_upgrade_notice" src="/docs/elasticsearch-cn/assets/images/msi_installer_upgrade_notice-bdc2472de6a3b16038ed569415b2c01f.png" width="900" height="600" class="img_ev3q"></p><p>下一步允许更改某些配置选项：</p><p><img loading="lazy" alt="msi_installer_upgrade_configuration" src="/docs/elasticsearch-cn/assets/images/msi_installer_upgrade_configuration-aa73801a58a8d2a3202345511296fd59.png" width="900" height="600" class="img_ev3q"></p><p>最后，插件步骤允许升级或删除当前安装的插件，对于当前未安装的插件，可以下载并安装：</p><p><img loading="lazy" alt="msi_installer_upgrade_plugins" src="/docs/elasticsearch-cn/assets/images/msi_installer_upgrade_plugins-dc3af28f2f701453547076729a8b3089.png" width="900" height="600" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="使用命令行升级">使用命令行升级<a href="#使用命令行升级" class="hash-link" aria-label="使用命令行升级的直接链接" title="使用命令行升级的直接链接">​</a></h2><p><code>.msi</code> 还可以使用命令行升级 Elasticsearch。</p><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>警告</div><div class="admonitionContent_S0QG"><p>命令行升级需要传递与第一次安装一致的命令行属性；Windows 安装程序不会记录这些属性。<br>
<!-- -->例如，如果你最初使用命令行选项 <code>PLUGINS=&quot;ingest-geoip&quot;</code> 和 <code>LOCKMEMORY=&quot;true&quot;</code> 来安装，那通过命令行升级也要传递相同的值。<br>
<!-- -->例外是 <code>INSTALLDIR</code> 参数（如果最初指定了），它必须与当前安装目录不同。如果设置 <code>INSTALLDIR</code>，路径中的结尾必须是 Elasticsearch 的版本，如：<br>
<code>C:\Program Files\Elastic\Elasticsearch\7.11.2</code></p></div></div><p>如果 Elasticsearch 是使用所有默认值安装的，最简单的升级是先定位到下载目录，然后运行：</p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">start /wait msiexec.exe /i elasticsearch-7.11.2.msi /qn</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>与安装过程类似，可以通过传递 <code>/l</code> 命令行参数指定升级过程的日志文件路径：</p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">start /wait msiexec.exe /i elasticsearch-7.11.2.msi /qn /l upgrade.log</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="使用-添加移除程序-卸载">使用 添加/移除程序 卸载<a href="#使用-添加移除程序-卸载" class="hash-link" aria-label="使用 添加/移除程序 卸载的直接链接" title="使用 添加/移除程序 卸载的直接链接">​</a></h2><p><code>.msi</code> 包会处理作为安装的一部分的所有目录和文件的卸载。</p><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>警告</div><div class="admonitionContent_S0QG"><p>卸载将删除作为安装部分创建的所有内容，数据、配置或日志目录除外。建议在升级前复制数据目录，或考虑使用快照 API。</p></div></div><p>MSI 安装包不提供用于卸载 GUI。通过按 Windows 键并输入 <code>add or remove programs</code> 以打开系统设置，即可卸载已安装的程序。</p><p>一旦打开，在已安装应用列表中找到 Elasticsearch ，点击并选择卸载：</p><p><img loading="lazy" alt="msi_installer_uninstall" src="/docs/elasticsearch-cn/assets/images/msi_installer_uninstall-f432b2b4e26d49fd5340d81de3c644e0.png" width="810" height="393" class="img_ev3q"></p><p>这会启动卸载过程。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="使用命令行卸载">使用命令行卸载<a href="#使用命令行卸载" class="hash-link" aria-label="使用命令行卸载的直接链接" title="使用命令行卸载的直接链接">​</a></h2><p>通过导航到包含 <code>.msi</code> 包的目录，并运行以下命令，可以从命令行执行卸载：</p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">start /wait msiexec.exe /x elasticsearch-7.11.2.msi /qn</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>与安装过程类似，可以使用 <code>/l</code> 命令行参数传递卸载过程的日志文件路径：</p><div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">start /wait msiexec.exe /x elasticsearch-7.11.2.msi /qn /l uninstall.log</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="下一步">下一步<a href="#下一步" class="hash-link" aria-label="下一步的直接链接" title="下一步的直接链接">​</a></h2><p>你现在有一个测试 Elasticsearch 环境部署好。在你使用 Elasticsearch 正式开始开发或者生产之前，你必须做一些额外的设置：</p><ul><li>学习如何配置 <a href="/docs/elasticsearch-cn/set_up_elasticsearch/config">Elasticsearch</a>。</li><li>配置<a href="/docs/elasticsearch-cn/set_up_elasticsearch/important_es_config">重要的 Elasticsearch 设置</a>。</li><li>配置<a href="/docs/elasticsearch-cn/set_up_elasticsearch/important_system_config">重要的系统设置</a>。</li></ul><blockquote><p><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/windows.html" target="_blank" rel="noopener noreferrer">原文链接</a></p></blockquote></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/elasticsearch-cn/set_up_elasticsearch/installing_elasticsearch/rpm"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">使用 RPM 安装 Elasticsearch</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/elasticsearch-cn/set_up_elasticsearch/installing_elasticsearch/docker"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">使用 Docker 安装 Elasticsearch</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#下载-msi-包" class="table-of-contents__link toc-highlight">下载 <code>.msi</code> 包</a><ul><li><a href="#使用图形化界面gui安装" class="table-of-contents__link toc-highlight">使用图形化界面（GUI）安装</a></li><li><a href="#使用命令行安装" class="table-of-contents__link toc-highlight">使用命令行安装</a></li><li><a href="#命令行选项" class="table-of-contents__link toc-highlight">命令行选项</a></li></ul></li><li><a href="#启用系统索引自动创建-x-pack" class="table-of-contents__link toc-highlight">启用系统索引自动创建 X-Pack</a></li><li><a href="#从命令行运行-elasticsearch" class="table-of-contents__link toc-highlight">从命令行运行 Elasticsearch</a></li><li><a href="#在命令行配置-elasticsearch" class="table-of-contents__link toc-highlight">在命令行配置 Elasticsearch</a></li><li><a href="#检查-elasticsearch-是否正在运行" class="table-of-contents__link toc-highlight">检查 Elasticsearch 是否正在运行</a></li><li><a href="#在-windows-上作为服务安装-elasticsearch" class="table-of-contents__link toc-highlight">在 Windows 上作为服务安装 Elasticsearch</a></li><li><a href="#使用图形化界面gui升级" class="table-of-contents__link toc-highlight">使用图形化界面（GUI）升级</a></li><li><a href="#使用命令行升级" class="table-of-contents__link toc-highlight">使用命令行升级</a></li><li><a href="#使用-添加移除程序-卸载" class="table-of-contents__link toc-highlight">使用 添加/移除程序 卸载</a></li><li><a href="#使用命令行卸载" class="table-of-contents__link toc-highlight">使用命令行卸载</a></li><li><a href="#下一步" class="table-of-contents__link toc-highlight">下一步</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">IT工具</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://tools.lzw.me" target="_blank" rel="noopener noreferrer" class="footer__link-item">有趣工具箱<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://lzw.me/x/reference/" target="_blank" rel="noopener noreferrer" class="footer__link-item">IT速查清单<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">其他文档</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://lzw.me/docs/gemini-cli-learning" target="_blank" rel="noopener noreferrer" class="footer__link-item">Gemini CLI 中文教程<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://lzw.me/docs/quant-wiki" target="_blank" rel="noopener noreferrer" class="footer__link-item">量化百科<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://lzw.me/docs/tvm-cn/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Apache TVM 中文站<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 bookHub.tech</div></div></div></footer></div>
<script src="/docs/elasticsearch-cn/assets/js/runtime~main.4a16cc88.js"></script>
<script src="/docs/elasticsearch-cn/assets/js/main.15caa9bc.js"></script>
<script src="https://lzw.me/x/lib/utils/h5-common.js?v=016"></script></body>
</html>